<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="陈龙 の 博客">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="陈龙 の 博客">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="陈龙">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://yoursite.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>陈龙 の 博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">陈龙 の 博客</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/24/%E7%9F%A9%E9%98%B5%E6%8E%A7%E5%88%B6%E7%81%AF/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="陈龙">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="陈龙 の 博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/24/%E7%9F%A9%E9%98%B5%E6%8E%A7%E5%88%B6%E7%81%AF/" class="post-title-link" itemprop="url">矩阵控制灯</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-06-24 21:07:31 / 修改时间：21:10:56" itemprop="dateCreated datePublished" datetime="2020-06-24T21:07:31+08:00">2020-06-24</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="本章任务"><a href="#本章任务" class="headerlink" title="本章任务"></a>本章任务</h2><ul>
<li>使用网页控制板子上的任意一盏灯</li>
</ul>
<h3 id="相关代码修改如下："><a href="#相关代码修改如下：" class="headerlink" title="相关代码修改如下："></a>相关代码修改如下：</h3><ol>
<li>首先，要想控制板上任意一盏灯首先要添加25个按钮俩控制板子上的灯</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;h3&gt;控制单个小灯亮暗&lt;&#x2F;h3&gt; </span><br><span class="line">       &lt;button id&#x3D;&quot;led00&quot; onclick&#x3D;&quot;led00()&quot;&gt;第一行第一列&lt;&#x2F;button&gt;</span><br><span class="line">       &lt;button id&#x3D;&quot;led01&quot; onclick&#x3D;&quot;led01()&quot;&gt;第一行第二列&lt;&#x2F;button&gt;</span><br><span class="line">       &lt;button id&#x3D;&quot;led02&quot; onclick&#x3D;&quot;led02()&quot;&gt;第一行第三列&lt;&#x2F;button&gt;</span><br><span class="line">       &lt;button id&#x3D;&quot;led03&quot; onclick&#x3D;&quot;led03()&quot;&gt;第一行第四列&lt;&#x2F;button&gt;</span><br><span class="line">       &lt;button id&#x3D;&quot;led04&quot; onclick&#x3D;&quot;led04()&quot;&gt;第一行第五列&lt;&#x2F;button&gt;</span><br><span class="line">       &lt;br&gt;</span><br><span class="line">       &lt;button id&#x3D;&quot;led10&quot; onclick&#x3D;&quot;led10()&quot;&gt;第二行第一列&lt;&#x2F;button&gt;</span><br><span class="line">       &lt;button id&#x3D;&quot;led11&quot; onclick&#x3D;&quot;led11()&quot;&gt;第二行第二列&lt;&#x2F;button&gt;</span><br><span class="line">       &lt;button id&#x3D;&quot;led12&quot; onclick&#x3D;&quot;led12()&quot;&gt;第二行第三列&lt;&#x2F;button&gt;</span><br><span class="line">       &lt;button id&#x3D;&quot;led13&quot; onclick&#x3D;&quot;led13()&quot;&gt;第二行第四列&lt;&#x2F;button&gt;</span><br><span class="line">       &lt;button id&#x3D;&quot;led14&quot; onclick&#x3D;&quot;led14()&quot;&gt;第二行第五列&lt;&#x2F;button&gt;</span><br><span class="line">       &lt;br&gt;</span><br><span class="line">       &lt;button id&#x3D;&quot;led20&quot; onclick&#x3D;&quot;led20()&quot;&gt;第三行第一列&lt;&#x2F;button&gt;</span><br><span class="line">       &lt;button id&#x3D;&quot;led21&quot; onclick&#x3D;&quot;led21()&quot;&gt;第三行第二列&lt;&#x2F;button&gt;</span><br><span class="line">       &lt;button id&#x3D;&quot;led22&quot; onclick&#x3D;&quot;led22()&quot;&gt;第三行第三列&lt;&#x2F;button&gt;</span><br><span class="line">       &lt;button id&#x3D;&quot;led23&quot; onclick&#x3D;&quot;led23()&quot;&gt;第三行第四列&lt;&#x2F;button&gt;</span><br><span class="line">       &lt;button id&#x3D;&quot;led24&quot; onclick&#x3D;&quot;led24()&quot;&gt;第三行第五列&lt;&#x2F;button&gt;</span><br><span class="line">       &lt;br&gt;</span><br><span class="line">       &lt;button id&#x3D;&quot;led30&quot; onclick&#x3D;&quot;led30()&quot;&gt;第四行第一列&lt;&#x2F;button&gt;</span><br><span class="line">       &lt;button id&#x3D;&quot;led31&quot; onclick&#x3D;&quot;led31()&quot;&gt;第四行第二列&lt;&#x2F;button&gt;</span><br><span class="line">       &lt;button id&#x3D;&quot;led32&quot; onclick&#x3D;&quot;led32()&quot;&gt;第四行第三列&lt;&#x2F;button&gt;</span><br><span class="line">       &lt;button id&#x3D;&quot;led33&quot; onclick&#x3D;&quot;led33()&quot;&gt;第四行第四列&lt;&#x2F;button&gt;</span><br><span class="line">       &lt;button id&#x3D;&quot;led34&quot; onclick&#x3D;&quot;led34()&quot;&gt;第四行第五列&lt;&#x2F;button&gt;</span><br><span class="line">       &lt;br&gt;</span><br><span class="line">       &lt;button id&#x3D;&quot;led40&quot; onclick&#x3D;&quot;led40()&quot;&gt;第五行第一列&lt;&#x2F;button&gt;</span><br><span class="line">       &lt;button id&#x3D;&quot;led41&quot; onclick&#x3D;&quot;led41()&quot;&gt;第五行第二列&lt;&#x2F;button&gt;</span><br><span class="line">       &lt;button id&#x3D;&quot;led42&quot; onclick&#x3D;&quot;led42()&quot;&gt;第五行第三列&lt;&#x2F;button&gt;</span><br><span class="line">       &lt;button id&#x3D;&quot;led43&quot; onclick&#x3D;&quot;led43()&quot;&gt;第五行第四列&lt;&#x2F;button&gt;</span><br><span class="line">       &lt;button id&#x3D;&quot;led44&quot; onclick&#x3D;&quot;led44()&quot;&gt;第五行第五列&lt;&#x2F;button&gt;</span><br></pre></td></tr></table></figure>

<ol>
<li>每个按钮控制一个小灯</li>
</ol>
<p>Javascript</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br></pre></td><td class="code"><pre><span class="line">function led00()              &#x2F;&#x2F;第一行</span><br><span class="line">       &#123;</span><br><span class="line">           if(c[0]&#x3D;&#x3D;0)</span><br><span class="line">           &#123;</span><br><span class="line">               led[0]&#x3D;led[0]|(1&lt;&lt;4);</span><br><span class="line">               c[0]&#x3D;1;</span><br><span class="line">           &#125;</span><br><span class="line">           else&#123;</span><br><span class="line">               led[0]&#x3D;led[0]&amp;(~(1&lt;&lt;4));</span><br><span class="line">               c[0]&#x3D;0;</span><br><span class="line">           &#125;</span><br><span class="line">           randLED();</span><br><span class="line">       &#125;</span><br><span class="line">       function led01()</span><br><span class="line">       &#123;</span><br><span class="line">           if(c[1]&#x3D;&#x3D;0)</span><br><span class="line">           &#123;</span><br><span class="line">               led[0]&#x3D;led[0]|(1&lt;&lt;3);</span><br><span class="line">               c[1]&#x3D;1;</span><br><span class="line">           &#125;</span><br><span class="line">           else&#123;</span><br><span class="line">               led[0]&#x3D;led[0]&amp;(~(1&lt;&lt;3));</span><br><span class="line">               c[1]&#x3D;0;</span><br><span class="line">           &#125;</span><br><span class="line">           randLED();</span><br><span class="line">       &#125;</span><br><span class="line">       function led02()</span><br><span class="line">       &#123;</span><br><span class="line">           if(c[2]&#x3D;&#x3D;0)</span><br><span class="line">           &#123;</span><br><span class="line">               led[0]&#x3D;led[0]|(1&lt;&lt;2);</span><br><span class="line">               c[2]&#x3D;1;</span><br><span class="line">           &#125;</span><br><span class="line">           else&#123;</span><br><span class="line">               led[0]&#x3D;led[0]&amp;(~(1&lt;&lt;2));</span><br><span class="line">               c[2]&#x3D;0;</span><br><span class="line">           &#125;</span><br><span class="line">           randLED();</span><br><span class="line">       &#125;</span><br><span class="line">       function led03()</span><br><span class="line">       &#123;</span><br><span class="line">           if(c[3]&#x3D;&#x3D;0)</span><br><span class="line">           &#123;</span><br><span class="line">               led[0]&#x3D;led[0]|(1&lt;&lt;1);</span><br><span class="line">               c[3]&#x3D;1;</span><br><span class="line">           &#125;</span><br><span class="line">           else&#123;</span><br><span class="line">               led[0]&#x3D;led[0]&amp;(~(1&lt;&lt;1));</span><br><span class="line">               c[3]&#x3D;0;</span><br><span class="line">           &#125;</span><br><span class="line">           randLED();</span><br><span class="line">       &#125;</span><br><span class="line">       function led04()</span><br><span class="line">       &#123;</span><br><span class="line">           if(c[4]&#x3D;&#x3D;0)</span><br><span class="line">           &#123;</span><br><span class="line">               led[0]&#x3D;led[0]|(1&lt;&lt;0);</span><br><span class="line">               c[4]&#x3D;1;</span><br><span class="line">           &#125;</span><br><span class="line">           else&#123;</span><br><span class="line">               led[0]&#x3D;led[0]&amp;(~(1&lt;&lt;0));</span><br><span class="line">               c[4]&#x3D;0;</span><br><span class="line">           &#125;</span><br><span class="line">           randLED();</span><br><span class="line">       &#125;</span><br><span class="line">  </span><br><span class="line">       function led10()                   &#x2F;&#x2F;第二行</span><br><span class="line">       &#123;</span><br><span class="line">           if(c[5]&#x3D;&#x3D;0)</span><br><span class="line">           &#123;</span><br><span class="line">               led[1]&#x3D;led[1]|(1&lt;&lt;4);</span><br><span class="line">               c[5]&#x3D;1;</span><br><span class="line">           &#125;</span><br><span class="line">           else&#123;</span><br><span class="line">               led[1]&#x3D;led[1]&amp;(~(1&lt;&lt;4));</span><br><span class="line">               c[5]&#x3D;0;</span><br><span class="line">           &#125;</span><br><span class="line">           randLED();</span><br><span class="line">       &#125;</span><br><span class="line">       function led11()</span><br><span class="line">       &#123;</span><br><span class="line">           if(c[6]&#x3D;&#x3D;0)</span><br><span class="line">           &#123;</span><br><span class="line">               led[1]&#x3D;led[1]|(1&lt;&lt;3);</span><br><span class="line">               c[6]&#x3D;1;</span><br><span class="line">           &#125;</span><br><span class="line">           else&#123;</span><br><span class="line">               led[1]&#x3D;led[1]&amp;(~(1&lt;&lt;3));</span><br><span class="line">               c[6]&#x3D;0;</span><br><span class="line">           &#125;</span><br><span class="line">           randLED();</span><br><span class="line">       &#125;</span><br><span class="line">       function led12()</span><br><span class="line">       &#123;</span><br><span class="line">           if(c[7]&#x3D;&#x3D;0)</span><br><span class="line">           &#123;</span><br><span class="line">               led[1]&#x3D;led[1]|(1&lt;&lt;2);</span><br><span class="line">               c[7]&#x3D;1;</span><br><span class="line">         </span><br><span class="line">       &#125;</span><br><span class="line">  </span><br><span class="line">       function led20()                   &#x2F;&#x2F;第三行</span><br><span class="line">       &#123;</span><br><span class="line">           if(c[10]&#x3D;&#x3D;0)</span><br><span class="line">           &#123;</span><br><span class="line">               led[2]&#x3D;led[2]|(1&lt;&lt;4);</span><br><span class="line">               c[10]&#x3D;1;</span><br><span class="line">           &#125;</span><br><span class="line">           else&#123;</span><br><span class="line">               led[2]&#x3D;led[2]&amp;(~(1&lt;&lt;4));</span><br><span class="line">               c[10]&#x3D;0;</span><br><span class="line">           &#125;</span><br><span class="line">           randLED();</span><br><span class="line">       &#125;</span><br><span class="line">       function led21()</span><br><span class="line">       &#123;</span><br><span class="line">           if(c[11]&#x3D;&#x3D;0)</span><br><span class="line">           &#123;</span><br><span class="line">               led[2]&#x3D;led[2]|(1&lt;&lt;3);</span><br><span class="line">               c[11]&#x3D;1;</span><br><span class="line">           &#125;</span><br><span class="line">           else&#123;</span><br><span class="line">               led[2]&#x3D;led[2]&amp;(~(1&lt;&lt;3));</span><br><span class="line">               c[11]&#x3D;0;</span><br><span class="line">           &#125;</span><br><span class="line">           randLED();</span><br><span class="line">       &#125;</span><br><span class="line">       function led22()</span><br><span class="line">       &#123;</span><br><span class="line">           if(c[12]&#x3D;&#x3D;0)</span><br><span class="line">           &#123;</span><br><span class="line">               led[2]&#x3D;led[2]|(1&lt;&lt;2);</span><br><span class="line">               c[12]&#x3D;1;</span><br><span class="line">           &#125;</span><br><span class="line">           else&#123;</span><br><span class="line">               led[2]&#x3D;led[2]&amp;(~(1&lt;&lt;2));</span><br><span class="line">               c[12]&#x3D;0;</span><br><span class="line">           &#125;</span><br><span class="line">           randLED();</span><br><span class="line">       &#125;</span><br><span class="line">       function led23()</span><br><span class="line">       &#123;</span><br><span class="line">           if(c[13]&#x3D;&#x3D;0)</span><br><span class="line">           &#123;</span><br><span class="line">               led[2]&#x3D;led[2]|(1&lt;&lt;1);</span><br><span class="line">               c[13]&#x3D;1;</span><br><span class="line">           &#125;</span><br><span class="line">           else&#123;</span><br><span class="line">               led[2]&#x3D;led[2]&amp;(~(1&lt;&lt;1));</span><br><span class="line">               c[13]&#x3D;0;</span><br><span class="line">           &#125;</span><br><span class="line">           randLED();</span><br><span class="line">       &#125;</span><br><span class="line">       function led24()</span><br><span class="line">       &#123;</span><br><span class="line">           if(c[14]&#x3D;&#x3D;0)</span><br><span class="line">           &#123;</span><br><span class="line">               led[2]&#x3D;led[2]|(1&lt;&lt;0);</span><br><span class="line">               c[14]&#x3D;1;</span><br><span class="line">           &#125;</span><br><span class="line">           else&#123;</span><br><span class="line">               led[2]&#x3D;led[2]&amp;(~(1&lt;&lt;0));</span><br><span class="line">               c[14]&#x3D;0;</span><br><span class="line">           &#125;</span><br><span class="line">           randLED();</span><br><span class="line">       &#125;</span><br><span class="line">  </span><br><span class="line">       function led30()                   &#x2F;&#x2F;第四行</span><br><span class="line">       &#123;</span><br><span class="line">           if(c[15]&#x3D;&#x3D;0)</span><br><span class="line">           &#123;</span><br><span class="line">               led[3]&#x3D;led[3]|(1&lt;&lt;4);</span><br><span class="line">               c[15]&#x3D;1;</span><br><span class="line">           &#125;</span><br><span class="line">           else&#123;</span><br><span class="line">               led[3]&#x3D;led[3]&amp;(~(1&lt;&lt;4));</span><br><span class="line">               c[15]&#x3D;0;</span><br><span class="line">           &#125;</span><br><span class="line">           randLED();</span><br><span class="line">       &#125;</span><br><span class="line">       function led31()</span><br><span class="line">       &#123;</span><br><span class="line">           if(c[16]&#x3D;&#x3D;0)</span><br><span class="line">           &#123;</span><br><span class="line">               led[3]&#x3D;led[3]|(1&lt;&lt;3);</span><br><span class="line">               c[16]&#x3D;1;</span><br><span class="line">           &#125;</span><br><span class="line">           else&#123;</span><br><span class="line">               led[3]&#x3D;led[3]&amp;(~(1&lt;&lt;3));</span><br><span class="line">               c[16]&#x3D;0;</span><br><span class="line">           &#125;</span><br><span class="line">           randLED();</span><br><span class="line">       &#125;</span><br><span class="line">       function led32()</span><br><span class="line">       &#123;</span><br><span class="line">           if(c[17]&#x3D;&#x3D;0)</span><br><span class="line">           &#123;</span><br><span class="line">               led[3]&#x3D;led[3]|(1&lt;&lt;2);</span><br><span class="line">               c[17]&#x3D;1;</span><br><span class="line">           &#125;</span><br><span class="line">           else&#123;</span><br><span class="line">               led[3]&#x3D;led[3]&amp;(~(1&lt;&lt;2));</span><br><span class="line">               c[17]&#x3D;0;</span><br><span class="line">           &#125;</span><br><span class="line">           randLED();</span><br><span class="line">       &#125;</span><br><span class="line">       function led33()</span><br><span class="line">       &#123;</span><br><span class="line">           if(c[18]&#x3D;&#x3D;0)</span><br><span class="line">           &#123;</span><br><span class="line">               led[3]&#x3D;led[3]|(1&lt;&lt;1);</span><br><span class="line">               c[18]&#x3D;1;</span><br><span class="line">           &#125;</span><br><span class="line">           else&#123;</span><br><span class="line">               led[3]&#x3D;led[3]&amp;(~(1&lt;&lt;1));</span><br><span class="line">               c[18]&#x3D;0;</span><br><span class="line">           &#125;</span><br><span class="line">           randLED();</span><br><span class="line">       &#125;</span><br><span class="line">       function led34()</span><br><span class="line">       &#123;</span><br><span class="line">           if(c[19]&#x3D;&#x3D;0)</span><br><span class="line">           &#123;</span><br><span class="line">               led[3]&#x3D;led[3]|(1&lt;&lt;0);</span><br><span class="line">               c[19]&#x3D;1;</span><br><span class="line">           &#125;</span><br><span class="line">           else&#123;</span><br><span class="line">               led[3]&#x3D;led[3]&amp;(~(1&lt;&lt;0));</span><br><span class="line">               c[19]&#x3D;0;</span><br><span class="line">           &#125;</span><br><span class="line">           randLED();</span><br><span class="line">       &#125;</span><br><span class="line">       function led40()                   &#x2F;&#x2F;第五行</span><br><span class="line">       &#123;</span><br><span class="line">           if(c[20]&#x3D;&#x3D;0)</span><br><span class="line">           &#123;</span><br><span class="line">               led[4]&#x3D;led[4]|(1&lt;&lt;4);</span><br><span class="line">               c[20]&#x3D;1;</span><br><span class="line">           &#125;</span><br><span class="line">           else&#123;</span><br><span class="line">               led[4]&#x3D;led[4]&amp;(~(1&lt;&lt;4));</span><br><span class="line">               c[20]&#x3D;0;</span><br><span class="line">           &#125;</span><br><span class="line">           randLED();</span><br><span class="line">       &#125;</span><br><span class="line">       function led41()</span><br><span class="line">       &#123;</span><br><span class="line">           if(c[21]&#x3D;&#x3D;0)</span><br><span class="line">           &#123;</span><br><span class="line">               led[4]&#x3D;led[4]|(1&lt;&lt;3);</span><br><span class="line">               c[21]&#x3D;1;</span><br><span class="line">           &#125;</span><br><span class="line">           else&#123;</span><br><span class="line">               led[4]&#x3D;led[4]&amp;(~(1&lt;&lt;3));</span><br><span class="line">               c[21]&#x3D;0;</span><br><span class="line">           &#125;</span><br><span class="line">           randLED();</span><br><span class="line">       &#125;</span><br><span class="line">       function led42()</span><br><span class="line">       &#123;</span><br><span class="line">           if(c[22]&#x3D;&#x3D;0)</span><br><span class="line">           &#123;</span><br><span class="line">               led[4]&#x3D;led[4]|(1&lt;&lt;2);</span><br><span class="line">               c[22]&#x3D;1;</span><br><span class="line">           &#125;</span><br><span class="line">           else&#123;</span><br><span class="line">               led[4]&#x3D;led[4]&amp;(~(1&lt;&lt;2));</span><br><span class="line">               c[22]&#x3D;0;</span><br><span class="line">           &#125;</span><br><span class="line">           randLED();</span><br><span class="line">       &#125;</span><br><span class="line">       function led43()</span><br><span class="line">       &#123;</span><br><span class="line">           if(c[23]&#x3D;&#x3D;0)</span><br><span class="line">           &#123;</span><br><span class="line">               led[4]&#x3D;led[4]|(1&lt;&lt;1);</span><br><span class="line">               c[23]&#x3D;1;</span><br><span class="line">           &#125;</span><br><span class="line">           else&#123;</span><br><span class="line">               led[4]&#x3D;led[4]&amp;(~(1&lt;&lt;1));</span><br><span class="line">               c[23]&#x3D;0;</span><br><span class="line">           &#125;</span><br><span class="line">           randLED();</span><br><span class="line">       &#125;</span><br><span class="line">       function led44()</span><br><span class="line">       &#123;</span><br><span class="line">           if(c[24]&#x3D;&#x3D;0)</span><br><span class="line">           &#123;</span><br><span class="line">               led[4]&#x3D;led[4]|(1&lt;&lt;0);</span><br><span class="line">               c[24]&#x3D;1;</span><br><span class="line">           &#125;</span><br><span class="line">           else&#123;</span><br><span class="line">               led[4]&#x3D;led[4]&amp;(~(1&lt;&lt;0));</span><br><span class="line">               c[24]&#x3D;0;</span><br><span class="line">           &#125;</span><br><span class="line">           randLED();</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure>

<h4 id="相关现象"><a href="#相关现象" class="headerlink" title="相关现象"></a>相关现象</h4><p><a href="https://cdn.jsdelivr.net/gh/sunflower-air/clouding/images/20200624105820.png" target="_blank" rel="noopener"><img src="https://cdn.jsdelivr.net/gh/sunflower-air/clouding/images/20200624105820.png" alt="img"></a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/23/%E4%B8%80%E8%A1%8CLED/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="陈龙">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="陈龙 の 博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/23/%E4%B8%80%E8%A1%8CLED/" class="post-title-link" itemprop="url">一行LED</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-06-23 21:48:17" itemprop="dateCreated datePublished" datetime="2020-06-23T21:48:17+08:00">2020-06-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-06-24 21:11:48" itemprop="dateModified" datetime="2020-06-24T21:11:48+08:00">2020-06-24</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>我们可以在网页上控制led的一行或者一列灯亮灭，用数组存放。<br>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var led &#x3D; [0, 0, 0, 0, 0];</span><br><span class="line">var a&#x3D;[0, 0, 0, 0, 0]; </span><br><span class="line">var b&#x3D;[0, 0, 0, 0, 0];</span><br></pre></td></tr></table></figure></p>
<ul>
<li><p>在body中定义10个按钮，用来控制小灯</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;h3&gt;控制小灯行的亮暗&lt;&#x2F;h3&gt; </span><br><span class="line">       &lt;button id&#x3D;&quot;h_1&quot; onclick&#x3D;&quot;h_1()&quot;&gt;第一行&lt;&#x2F;button&gt;</span><br><span class="line">       &lt;button id&#x3D;&quot;h_2&quot; onclick&#x3D;&quot;h_2()&quot;&gt;第二行&lt;&#x2F;button&gt;</span><br><span class="line">       &lt;button id&#x3D;&quot;h_3&quot; onclick&#x3D;&quot;h_3()&quot;&gt;第三行&lt;&#x2F;button&gt;</span><br><span class="line">       &lt;button id&#x3D;&quot;h_4&quot; onclick&#x3D;&quot;h_4()&quot;&gt;第四行&lt;&#x2F;button&gt;</span><br><span class="line">       &lt;button id&#x3D;&quot;h_5&quot; onclick&#x3D;&quot;h_5()&quot;&gt;第五行&lt;&#x2F;button&gt;</span><br><span class="line">       &lt;hr&gt;</span><br><span class="line">       &lt;h3&gt;控制小灯列的亮暗&lt;&#x2F;h3&gt; </span><br><span class="line">       &lt;button id&#x3D;&quot;L_1&quot; onclick&#x3D;&quot;L_1()&quot;&gt;第一列&lt;&#x2F;button&gt;</span><br><span class="line">       &lt;button id&#x3D;&quot;L_2&quot; onclick&#x3D;&quot;L_2()&quot;&gt;第二列&lt;&#x2F;button&gt;</span><br><span class="line">       &lt;button id&#x3D;&quot;L_3&quot; onclick&#x3D;&quot;L_3()&quot;&gt;第三列&lt;&#x2F;button&gt;</span><br><span class="line">       &lt;button id&#x3D;&quot;L_4&quot; onclick&#x3D;&quot;L_4()&quot;&gt;第四列&lt;&#x2F;button&gt;</span><br><span class="line">       &lt;button id&#x3D;&quot;L_5&quot; onclick&#x3D;&quot;L_5()&quot;&gt;第五列&lt;&#x2F;button&gt;</span><br><span class="line">       &lt;hr&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">function h_1()</span><br><span class="line">        &#123;   </span><br><span class="line">           if(a[0]&#x3D;&#x3D;0)</span><br><span class="line">           &#123;</span><br><span class="line">               led[0]&#x3D;31;</span><br><span class="line">               a[0]&#x3D;1;</span><br><span class="line">           &#125;</span><br><span class="line">           else&#123;</span><br><span class="line">               led[0]&#x3D;0;</span><br><span class="line">               a[0]&#x3D;0;</span><br><span class="line">           &#125;</span><br><span class="line">           randLED();</span><br><span class="line">        &#125;  </span><br><span class="line">        function h_2()</span><br><span class="line">        &#123;   </span><br><span class="line">           if(a[1]&#x3D;&#x3D;0)</span><br><span class="line">           &#123;</span><br><span class="line">               led[1]&#x3D;31;</span><br><span class="line">               a[1]&#x3D;1;</span><br><span class="line">           &#125;</span><br><span class="line">           else&#123;</span><br><span class="line">               led[1]&#x3D;0;</span><br><span class="line">               a[1]&#x3D;0;</span><br><span class="line">           &#125;</span><br><span class="line">           randLED();</span><br><span class="line">        &#125;  </span><br><span class="line">        function h_3()</span><br><span class="line">        &#123;   </span><br><span class="line">           if(a[2]&#x3D;&#x3D;0)</span><br><span class="line">           &#123;</span><br><span class="line">               led[2]&#x3D;31;</span><br><span class="line">               a[2]&#x3D;1;</span><br><span class="line">           &#125;</span><br><span class="line">           else&#123;</span><br><span class="line">               led[2]&#x3D;0;</span><br><span class="line">               a[2]&#x3D;0;</span><br><span class="line">           &#125;</span><br><span class="line">           randLED();</span><br><span class="line">        &#125;  </span><br><span class="line">        function h_4()</span><br><span class="line">        &#123;   </span><br><span class="line">           if(a[3]&#x3D;&#x3D;0)</span><br><span class="line">           &#123;</span><br><span class="line">               led[3]&#x3D;31;</span><br><span class="line">               a[3]&#x3D;1;</span><br><span class="line">           &#125;</span><br><span class="line">           else&#123;</span><br><span class="line">               led[3]&#x3D;0;</span><br><span class="line">               a[3]&#x3D;0;</span><br><span class="line">           &#125;</span><br><span class="line">           randLED();</span><br><span class="line">        &#125;  </span><br><span class="line">        function h_5()</span><br><span class="line">        &#123;   </span><br><span class="line">           if(a[4]&#x3D;&#x3D;0)</span><br><span class="line">           &#123;</span><br><span class="line">               led[4]&#x3D;31;</span><br><span class="line">               a[4]&#x3D;1;</span><br><span class="line">           &#125;</span><br><span class="line">           else&#123;</span><br><span class="line">               led[4]&#x3D;0;</span><br><span class="line">               a[4]&#x3D;0;</span><br><span class="line">           &#125;</span><br><span class="line">           randLED();</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">function  L_1()</span><br><span class="line">       &#123;   var i&#x3D;0;</span><br><span class="line">           if(b[0]&#x3D;&#x3D;0)</span><br><span class="line">           &#123;</span><br><span class="line">              for(i&#x3D;0;i&lt;&#x3D;4;i++)</span><br><span class="line">              led[i]&#x3D;led[i]|(1&lt;&lt;4);</span><br><span class="line">              b[0]&#x3D;1;</span><br><span class="line">           &#125;</span><br><span class="line">           else&#123;</span><br><span class="line">               for(i&#x3D;0;i&lt;&#x3D;4;i++)</span><br><span class="line">               led[i]&#x3D;led[i]&amp;(~(1&lt;&lt;4));</span><br><span class="line">               b[0]&#x3D;0;</span><br><span class="line">           &#125;</span><br><span class="line">           randLED();</span><br><span class="line">       &#125;</span><br><span class="line">       function  L_2()</span><br><span class="line">       &#123;   var i&#x3D;0;</span><br><span class="line">           if(b[1]&#x3D;&#x3D;0)</span><br><span class="line">           &#123;</span><br><span class="line">              for(i&#x3D;0;i&lt;&#x3D;4;i++)</span><br><span class="line">              led[i]&#x3D;led[i]|(1&lt;&lt;3);</span><br><span class="line">              b[1]&#x3D;1;</span><br><span class="line">           &#125;</span><br><span class="line">           else&#123;</span><br><span class="line">               for(i&#x3D;0;i&lt;&#x3D;4;i++)</span><br><span class="line">               led[i]&#x3D;led[i]&amp;(~(1&lt;&lt;3));</span><br><span class="line">               b[1]&#x3D;0;</span><br><span class="line">           &#125;</span><br><span class="line">           randLED();</span><br><span class="line">       &#125;</span><br><span class="line">       function  L_3()</span><br><span class="line">       &#123;   var i&#x3D;0;</span><br><span class="line">           if(b[2]&#x3D;&#x3D;0)</span><br><span class="line">           &#123;</span><br><span class="line">              for(i&#x3D;0;i&lt;&#x3D;</span><br><span class="line">              b[3]&#x3D;1;</span><br><span class="line">           &#125;</span><br><span class="line">           else&#123;</span><br><span class="line">               for(i&#x3D;0;i&lt;&#x3D;4;i++)</span><br><span class="line">               led[i]&#x3D;led[i]&amp;(~(1&lt;&lt;1));</span><br><span class="line">               b[3]&#x3D;0;</span><br><span class="line">           &#125;</span><br><span class="line">           randLED();</span><br><span class="line">       &#125;</span><br><span class="line">       function  L_5()</span><br><span class="line">       &#123;   var i&#x3D;0;</span><br><span class="line">           if(b[4]&#x3D;&#x3D;0)</span><br><span class="line">           &#123;</span><br><span class="line">              for(i&#x3D;0;i&lt;&#x3D;4;i++)</span><br><span class="line">              led[i]&#x3D;led[i]|(1&lt;&lt;0);</span><br><span class="line">              b[4]&#x3D;1;</span><br><span class="line">           &#125;</span><br><span class="line">           else&#123;</span><br><span class="line">               for(i&#x3D;0;i&lt;&#x3D;4;i++)</span><br><span class="line">               led[i]&#x3D;led[i]&amp;(~(1&lt;&lt;0));</span><br><span class="line">               b[4]&#x3D;0;</span><br><span class="line">           &#125;</span><br><span class="line">           randLED();</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">function randLED()   </span><br><span class="line">       &#123;  </span><br><span class="line">           console.log(&quot;randomLEDs&quot;);   </span><br><span class="line">           &#x2F;&#x2F; state validation   </span><br><span class="line">           if (!connected) </span><br><span class="line">           &#123;     </span><br><span class="line">               alert(&quot;Error: Discover and connect to a device before using this function&quot;);     </span><br><span class="line">               return;   </span><br><span class="line">           &#125;   </span><br><span class="line">           if (!services_discovered) </span><br><span class="line">           &#123;     </span><br><span class="line">               alert(&quot;Error: Service discovery has not yet completed&quot;);     </span><br><span class="line">               return;  </span><br><span class="line">           &#125;   </span><br><span class="line">           if (!has_led_service) </span><br><span class="line">           &#123;     </span><br><span class="line">               alert(&quot;Error: The connected device does not contain the LED service&quot;);     </span><br><span class="line">               return;  </span><br><span class="line">           &#125;   </span><br><span class="line">           if (!has_led_matrix_state) </span><br><span class="line">           &#123;      </span><br><span class="line">               alert(&quot;Error: The connected device does not contain the LED matrix state characteristic&quot;);      </span><br><span class="line">               return;   </span><br><span class="line">           &#125;     </span><br><span class="line">           var led_matrix_data &#x3D; new Uint8Array(led); </span><br><span class="line"></span><br><span class="line">           led_matrix_state.writeValue(led_matrix_data.buffer)</span><br><span class="line">           .then(_ &#x3D;&gt; &#123;   </span><br><span class="line">               console.log(&#39;LED matrix state changed&#39;);  </span><br><span class="line">               &#125;)  </span><br><span class="line">           .catch(error &#x3D;&gt; &#123;   </span><br><span class="line">               console.log(&#39;Error: &#39; + error);   </span><br><span class="line">               alert(&#39;Error: &#39; + error);   return;  </span><br><span class="line">               &#125;); </span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>以上为控制BBC板的任意一行、列灯的添加的代码，连接BBC板，这时我们可以看到：</p>
<p><a href="http://www.feifeijiayou.top/assets/74.png" target="_blank" rel="noopener"><img src="http://www.feifeijiayou.top/assets/74.png" alt="74"></a></p>
</li>
<li><p>随便点击一个按钮，Microbit板子上灯便会亮一排或一列；再点击，便会熄灭，这样我们就可以控制任意一行、列灯了！</p>
</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/23/%E5%90%AF%E7%94%A8%E9%80%9A%E7%9F%A5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="陈龙">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="陈龙 の 博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/23/%E5%90%AF%E7%94%A8%E9%80%9A%E7%9F%A5/" class="post-title-link" itemprop="url">启用通知</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-06-23 20:47:38" itemprop="dateCreated datePublished" datetime="2020-06-23T20:47:38+08:00">2020-06-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-06-24 21:07:01" itemprop="dateModified" datetime="2020-06-24T21:07:01+08:00">2020-06-24</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="本章任务"><a href="#本章任务" class="headerlink" title="本章任务"></a>本章任务</h2><ul>
<li>在网页上显示加速度计得三轴值</li>
</ul>
<h4 id="了解"><a href="#了解" class="headerlink" title="了解"></a>了解</h4><blockquote>
<p>Micro:bit采用的是Freescale MMA8653FC 三轴加速度传感器，I2C接口与外部通信，10位ADC精度，可设置量程为±2g，±4g，±8g，数据最大更新速率为800Hz。</p>
<p>当Micro:bit处于静止或匀速运动状态时，加速计仅检测到重力加速度；将Micro:bit轻微甩动，加速计检测到甩动的加速度远小于重力加速度，可忽略不计，因此，在使用Micro:bit过程中，主要是检测当姿态变化时，重力加速度在x,y,z轴上的变化，并在此基础上应用。</p>
</blockquote>
<h4 id="相关代码"><a href="#相关代码" class="headerlink" title="相关代码"></a>相关代码</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">   &lt;html&gt;</span><br><span class="line">   &lt;head&gt;</span><br><span class="line">   &lt;script&gt;</span><br><span class="line">        var    selected_device;    </span><br><span class="line">        var    connected_server;    </span><br><span class="line">        var    connected &#x3D; false;    </span><br><span class="line">        var    services_discovered &#x3D; false;  &#x2F;&#x2F;在第5课上添加</span><br><span class="line">	    var    notifications_enabled &#x3D; false; </span><br><span class="line">        &#x2F;&#x2F;在第5课上添加以下内容</span><br><span class="line">    var has_accelerometer_service &#x3D; false; </span><br><span class="line">    var has_accelerometer_data &#x3D; false;</span><br><span class="line">    var has_led_service &#x3D; false;</span><br><span class="line">    var has_led_matrix_state &#x3D; false;</span><br><span class="line">    var has_device_information_service &#x3D; false; </span><br><span class="line">    var has_model_name_string &#x3D; false; </span><br><span class="line"></span><br><span class="line">   &#x2F;&#x2F; service UUIDs </span><br><span class="line">   ACCELEROMETER_SERVICE &#x3D; &#39;e95d0753-251d-470a-a062-fa1922dfa9a8&#39;; </span><br><span class="line">   LED_SERVICE &#x3D; &#39;e95dd91d-251d-470a-a062-fa1922dfa9a8&#39;; </span><br><span class="line">   DEVICE_INFORMATION_SERVICE &#x3D; &#39;0000180a-0000-1000-8000-00805f9b34fb&#39;;</span><br><span class="line">   &#x2F;&#x2F; characteristic UUIDs </span><br><span class="line">   ACCELEROMETER_DATA &#x3D; &#39;e95dca4b-251d-470a-a062-fa1922dfa9a8&#39;; </span><br><span class="line">   LED_MATRIX_STATE  &#x3D; &#39;e95d7b77-251d-470a-a062-fa1922dfa9a8&#39;; </span><br><span class="line">   MODEL_NUMBER_STRING &#x3D; &#39;00002a24-0000-1000-8000-00805f9b34fb&#39;; </span><br><span class="line">  </span><br><span class="line">   &#x2F;&#x2F; cached characteristics </span><br><span class="line">    var led_matrix_state; </span><br><span class="line">    var model_number_string;</span><br><span class="line">    var accelerometer_data; </span><br><span class="line">    </span><br><span class="line">     &#x2F;&#x2F;</span><br><span class="line">     var service_count;</span><br><span class="line">     var services_discovered;</span><br><span class="line">     var characteristics_discovered;  </span><br><span class="line">     var characteristic_count ; </span><br><span class="line">    function discoverOrdisconnectDevices()  </span><br><span class="line">    &#123;</span><br><span class="line">        console.log(&quot;discoverDevicesOrDisconnect&quot;); </span><br><span class="line">        if (!connected)</span><br><span class="line">            discoverDevices();</span><br><span class="line">        else</span><br><span class="line">        &#123;</span><br><span class="line">            selected_device.gatt.disconnect();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">   function setNotificationsStatus(status) &#123; </span><br><span class="line">	notifications_enabled &#x3D; status; </span><br><span class="line">	document.getElementById(&#39;status_notifications&#39;).innerHTML &#x3D; status; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<p>Javascript</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br></pre></td><td class="code"><pre><span class="line">    function onDisconnected()           </span><br><span class="line">    &#123;  </span><br><span class="line">         console.log(&quot;onDisconnected&quot;);  </span><br><span class="line">         resetUI(); </span><br><span class="line">    &#125;</span><br><span class="line"> function onAccelerometerData(event) &#123; </span><br><span class="line">	 console.log(&quot;onAccelerometerData&quot;);</span><br><span class="line">	 buffer &#x3D; event.target.value.buffer; </span><br><span class="line">	 dataview &#x3D; new DataView(buffer); </span><br><span class="line">	 X &#x3D; dataview.getUint16(0, true); </span><br><span class="line">	 Y &#x3D; dataview.getUint16(2, true); </span><br><span class="line">	 Z &#x3D; dataview.getUint16(4, true);  </span><br><span class="line">	 console.log(&quot;X&#x3D;&quot; + X + &quot;, Y&#x3D;&quot; + Y + &quot;, Z+&quot; + Z);  document.getElementById(&quot;accelerometer_data&quot;).innerHTML &#x3D; &quot;X&#x3D;&quot; + X + &quot;, Y&#x3D;&quot; + Y + &quot;, Z&#x3D;&quot; + Z; &#125;</span><br><span class="line">    function discoverDevices()</span><br><span class="line">    &#123;</span><br><span class="line">        console.log(&quot;discoverDevices&quot;);             </span><br><span class="line">        var options &#x3D; &#123;acceptAllDevices:true,</span><br><span class="line">            optionalServices: [DEVICE_INFORMATION_SERVICE, ACCELEROMETER_SERVICE, LED_SERVICE]  &#x2F;&#x2F;在第5节课上添加</span><br><span class="line">        &#125;       </span><br><span class="line">        navigator.bluetooth.requestDevice(options)   </span><br><span class="line">        .then(device &#x3D;&gt; &#123;</span><br><span class="line">            console.log(&#39;&gt; Name:&#39; + device.name);</span><br><span class="line">            console.log(&#39;&gt; Id:&#39;   + device.id);</span><br><span class="line">            console.log(&#39;&gt; Connected:&#39; + device.gatt.connected);</span><br><span class="line">            selected_device &#x3D; device;</span><br><span class="line">            console.log(selected_device);</span><br><span class="line">            connect();                              </span><br><span class="line">        &#125;)</span><br><span class="line">        .catch(error &#x3D;&gt; &#123;</span><br><span class="line">            alert(&#39;ERROR:&#39; +error);</span><br><span class="line">            console.log(&#39;ERROR:&#39; + error);</span><br><span class="line">            &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    function connect()                             </span><br><span class="line">    &#123;</span><br><span class="line">        console.log(&quot;connecting&quot;);</span><br><span class="line">        selected_device.gatt.connect()</span><br><span class="line">        .then(</span><br><span class="line">            function (server)        &#x2F;&#x2F;表示连接成功</span><br><span class="line">            &#123;</span><br><span class="line">                console.log(&quot;Connected to&quot; + server.device.id);</span><br><span class="line">                console.log(&quot;Connected&#x3D;&quot; + server.connected);</span><br><span class="line">                selected_device.addEventListener( &#39;gattserverdisconnected&#39;,onDisconnected);  &#x2F;&#x2F; 在第4课基础上添加的函数</span><br><span class="line">               </span><br><span class="line">                connected_server &#x3D; server;</span><br><span class="line">                discoverSvcsAndChars();    &#x2F;&#x2F;&#x2F;&#x2F;在第5课基础上添加的函数</span><br><span class="line">                setConnectedStatus(true);   &#x2F;&#x2F; 在第3课基础上添加的函数,设置电脑蓝牙的当前连接状态</span><br><span class="line">               </span><br><span class="line">            &#125;,</span><br><span class="line">            function (error)        &#x2F;&#x2F;表示连接失败</span><br><span class="line">            &#123;</span><br><span class="line">                console.log(&quot;ERROR:could not connct-&quot; + error);</span><br><span class="line">                alert(&quot;ERROR:could not connct-&quot; + error);</span><br><span class="line">                setConnectedStatus(false);  &#x2F;&#x2F; 在第3课基础上添加的函数,设置电脑蓝牙的当前连接状态</span><br><span class="line">               </span><br><span class="line">            &#125;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    function setConnectedStatus(status)  &#x2F;&#x2F; 在第3课基础上添加的函数,设置电脑蓝牙的当前连接状态</span><br><span class="line">    &#123;</span><br><span class="line">        connected &#x3D; status;</span><br><span class="line">        document.getElementById(&#39;status_connected&#39;).innerHTML &#x3D; status;</span><br><span class="line">        if (status &#x3D;&#x3D; true) </span><br><span class="line">        &#123;   </span><br><span class="line">            document.getElementById(&#39;btn_scan&#39;).innerHTML &#x3D; &quot;Disconnect&quot;; </span><br><span class="line">        &#125; </span><br><span class="line">        else </span><br><span class="line">        &#123;   </span><br><span class="line">            document.getElementById(&#39;btn_scan&#39;).innerHTML &#x3D; &quot;Discover Devices&quot;;  </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    function setDiscoveryStatus(status)</span><br><span class="line">     &#123;  </span><br><span class="line">         services_discovered &#x3D; status; </span><br><span class="line">         document.getElementById(&#39;status_discovered&#39;).innerHTML &#x3D; status;</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">    function resetUI()      &#x2F;&#x2F; 在第4课基础上添加的函数</span><br><span class="line">    &#123;</span><br><span class="line">        setConnectedStatus(false);</span><br><span class="line">        setDiscoveryStatus(false);    &#x2F;&#x2F; 在第5课基础上添加的函数</span><br><span class="line">		setNotificationsStatus(false); </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    function discoverSvcsAndChars()    &#x2F;&#x2F;在第5课基础上添加的函数</span><br><span class="line">    &#123;  </span><br><span class="line">        console.log(&quot;discoverSvcsAndChars server&#x3D;&quot; + connected_server); </span><br><span class="line">        connected_server.getPrimaryServices()&#x2F;&#x2F;调用函数去获取BBC上的相应的服务</span><br><span class="line">        .then(services &#x3D;&gt; &#x2F;&#x2F;对服务进行判断</span><br><span class="line">        &#123;    </span><br><span class="line">                has_accelerometer_service &#x3D; false;    </span><br><span class="line">                has_led_service &#x3D; false;    </span><br><span class="line">                has_device_information_service &#x3D; false; </span><br><span class="line">    </span><br><span class="line">                services_discovered &#x3D; 0;    </span><br><span class="line">                service_count &#x3D; services.length;    &#x2F;&#x2F;发现BBC板服务的个数</span><br><span class="line">                console.log(&quot;Got &quot; + service_count + &quot; services&quot;); </span><br><span class="line">    </span><br><span class="line">                services.forEach(service &#x3D;&gt;  &#x2F;&#x2F;对已发现的所有服务进行判断</span><br><span class="line">                &#123;     </span><br><span class="line">                    if (service.uuid &#x3D;&#x3D; ACCELEROMETER_SERVICE)</span><br><span class="line">                    &#123;      </span><br><span class="line">                        has_accelerometer_service &#x3D; true;    </span><br><span class="line">                    &#125;     </span><br><span class="line">                    if (service.uuid &#x3D;&#x3D; LED_SERVICE) </span><br><span class="line">                    &#123;      </span><br><span class="line">                        has_led_service &#x3D; true;     </span><br><span class="line">                    &#125;     </span><br><span class="line">                    if (service.uuid &#x3D;&#x3D; DEVICE_INFORMATION_SERVICE) </span><br><span class="line">                    &#123;      </span><br><span class="line">                        has_device_information_service &#x3D; true;     </span><br><span class="line">                    &#125;     </span><br><span class="line">                    console.log(&#39;Getting Characteristics for service &#39; + service.uuid);     </span><br><span class="line">                    service.getCharacteristics()  &#x2F;&#x2F;获取相应服务的所有特性</span><br><span class="line">                    .then(characteristics &#x3D;&gt; </span><br><span class="line">                    &#123;      </span><br><span class="line">                        console.log(&#39;&gt; Service: &#39; + service.uuid);      </span><br><span class="line">                        services_discovered++;     &#x2F;&#x2F;发现一个就加一</span><br><span class="line">                        characteristics_discovered &#x3D; 0;      </span><br><span class="line">                        characteristic_count &#x3D; characteristics.length;      &#x2F;&#x2F;特性的个数</span><br><span class="line">                        characteristics.forEach(characteristic &#x3D;&gt; &#x2F;&#x2F;对已发现的特性进行判断</span><br><span class="line">                        &#123;       </span><br><span class="line">                            characteristics_discovered++;       </span><br><span class="line">                            console.log(&#39;&gt;&gt; Characteristic: &#39; + characteristic.uuid);       </span><br><span class="line">                            if (characteristic.uuid &#x3D;&#x3D; ACCELEROMETER_DATA)</span><br><span class="line">                            &#123;        </span><br><span class="line">                                accelerometer_data &#x3D; characteristic;        &#x2F;&#x2F;把发现的相应特性保存到相应变量中</span><br><span class="line">                                has_accelerometer_data &#x3D; true;       </span><br><span class="line">                            &#125;       </span><br><span class="line">                            if (characteristic.uuid &#x3D;&#x3D; LED_MATRIX_STATE) </span><br><span class="line">                            &#123;        </span><br><span class="line">                                led_matrix_state &#x3D; characteristic;        </span><br><span class="line">                                has_led_matrix_state &#x3D; true;       </span><br><span class="line">                            &#125;       </span><br><span class="line">                            if (characteristic.uuid &#x3D;&#x3D; MODEL_NUMBER_STRING) </span><br><span class="line">                            &#123;        </span><br><span class="line">                                model_number_string &#x3D; characteristic;        </span><br><span class="line">                                has_model_name_string &#x3D; true;       </span><br><span class="line">                            &#125;       </span><br><span class="line">                            if (services_discovered &#x3D;&#x3D; service_count &amp;&amp; characteristics_discovered &#x3D;&#x3D; characteristic_count) </span><br><span class="line">                            &#123;        </span><br><span class="line">                                console.log(&quot;FINISHED DISCOVERY&quot;); </span><br><span class="line">                                setDiscoveryStatus(true);       </span><br><span class="line">                                &#x2F;&#x2F;setDiscoveryStatus(true);                  </span><br><span class="line">                            &#125;      </span><br><span class="line">                        &#125;);     </span><br><span class="line">                    &#125;);    </span><br><span class="line">                &#125;);  </span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">   function randomLEDs()&#x2F;&#x2F;第六节课添加</span><br><span class="line">   &#123;</span><br><span class="line">	   console.log(&quot;randomLEDs&quot;);</span><br><span class="line">	   &#x2F;&#x2F;state validation</span><br><span class="line">	   if (!connected)</span><br><span class="line">		   &#123;</span><br><span class="line">			   alert(&quot;Error: Discover and connect to a device before using this function&quot;);</span><br><span class="line">			   return</span><br><span class="line">		   &#125;</span><br><span class="line">	   if (!services_discovered)&#x2F;&#x2F;有没有发现所有服务</span><br><span class="line">		   &#123;</span><br><span class="line">			   alert(&quot;Error: Service discovery has not yet completed&quot;);</span><br><span class="line">			   return</span><br><span class="line">		   &#125;</span><br><span class="line">	   if (!has_led_service)</span><br><span class="line">		   &#123;</span><br><span class="line">			   alert(&quot;Error: The connected device does not contain the LED service&quot;);</span><br><span class="line">			   return</span><br><span class="line">		   &#125;</span><br><span class="line">	   if (!has_led_matrix_state)&#x2F;&#x2F;led灯的特性有没有被发现的一个标记变量</span><br><span class="line">		   &#123;</span><br><span class="line">			   alert(&quot;Error: The connected device does not contain the LED matrix state characteristic&quot;);</span><br><span class="line">			   return;</span><br><span class="line">		   &#125;</span><br><span class="line">	   var led_array &#x3D; [0, 0, 0, 0, 0];</span><br><span class="line">	   </span><br><span class="line">	   &#x2F;&#x2F;math.random():0~1  math.floor(x):返回小于等于x的最大整数</span><br><span class="line">	   led_array[0] &#x3D; Math.floor(Math.random() * 32);</span><br><span class="line">	   led_array[1] &#x3D; 1;</span><br><span class="line">	   led_array[2] &#x3D; 2;</span><br><span class="line">	   led_array[3] &#x3D; 3;</span><br><span class="line">	   led_array[4] &#x3D; 4;</span><br><span class="line">	   </span><br><span class="line">	   var led_matrix_data &#x3D; new Uint8Array(led_array);</span><br><span class="line">	   </span><br><span class="line">	   led_matrix_state.writeValue(led_matrix_data.buffer)&#x2F;&#x2F;控制板子上灯亮灭</span><br><span class="line">	   .then(_ &#x3D;&gt; &#123;</span><br><span class="line">		   console.log(&#39;LED matrix state changed&#39;);</span><br><span class="line">	   &#125;)</span><br><span class="line">	       .catch(error &#x3D;&gt; &#123;</span><br><span class="line">		   console.log(&#39;Error: &#39; + error);</span><br><span class="line">		   alert(&#39;Error: &#39; +error);  return;</span><br><span class="line">	   &#125;);</span><br><span class="line">	   </span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">function readModelNumber() &#123; </span><br><span class="line">	console.log(&quot;readModelNumber&quot;); </span><br><span class="line">	&#x2F;&#x2F; state validation </span><br><span class="line">	if (!connected) &#123; </span><br><span class="line">		alert(&quot;Error: Discover and connect to a device before using this function&quot;);</span><br><span class="line">		return; </span><br><span class="line">	&#125;</span><br><span class="line">	if (!services_discovered) &#123; </span><br><span class="line">		alert(&quot;Error: Service discovery has not yet completed&quot;);</span><br><span class="line">		return; </span><br><span class="line">	&#125;</span><br><span class="line">	if (!has_device_information_service) &#123; </span><br><span class="line">		alert(&quot;Error: The connected device does not contain the device information service&quot;);    </span><br><span class="line">		return;  </span><br><span class="line">	&#125;   </span><br><span class="line">	if (!has_model_name_string) &#123;    </span><br><span class="line">		alert(&quot;Error: The connected device does not contain the model name string characteristic&quot;);  </span><br><span class="line">		return;  </span><br><span class="line">	&#125;   </span><br><span class="line">		</span><br><span class="line">	model_number_string.readValue()  </span><br><span class="line">		.then(value &#x3D;&gt; &#123;    </span><br><span class="line">		   data &#x3D; new Uint8Array(value.buffer);  </span><br><span class="line">		   model_number_string &#x3D; new TextDecoder(&quot;utf8&quot;).decode(data);  </span><br><span class="line">		   console.log(model_number_string); </span><br><span class="line">		   document.getElementById(&quot;model_number&quot;).innerHTML &#x3D; model_number_string; </span><br><span class="line">	&#125;)   </span><br><span class="line">		.catch(error &#x3D;&gt; &#123;    </span><br><span class="line">		console.log(&#39;Error: &#39; + error);   </span><br><span class="line">		alert(&#39;Error: &#39; + error);   </span><br><span class="line">		return;   </span><br><span class="line">	&#125;);  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function toggleAccelerometerNotifications() &#123; </span><br><span class="line">	console.log(&quot;toggleAccelerometerNotifications&quot;); </span><br><span class="line">	if (!connected) &#123; </span><br><span class="line">		alert(&quot;Error: Discover and connect to a device before using this function&quot;);  </span><br><span class="line">		return;  </span><br><span class="line">	&#125; </span><br><span class="line">	if (!services_discovered) &#123; </span><br><span class="line">		alert(&quot;Error: Service discovery has not yet completed&quot;); </span><br><span class="line">		return; </span><br><span class="line">	&#125;  </span><br><span class="line">	if (!has_accelerometer_service) &#123;  </span><br><span class="line">		alert(&quot;Error: The connected device does not contain the accelerometer service&quot;);  </span><br><span class="line">		return;</span><br><span class="line">	&#125; </span><br><span class="line">	if (!has_accelerometer_data) &#123;  </span><br><span class="line">		alert(&quot;Error: The connected device does not contain the accelerometer data characteristic&quot;);   return; </span><br><span class="line">	&#125; </span><br><span class="line"></span><br><span class="line">if (!notifications_enabled) &#123;  </span><br><span class="line">	accelerometer_data.startNotifications()</span><br><span class="line">		.then(_ &#x3D;&gt; &#123; </span><br><span class="line">		console.log(&#39;accelerometer notifications started&#39;);  </span><br><span class="line">		setNotificationsStatus(true); </span><br><span class="line">		accelerometer_data.addEventListener(&#39;characteristicvaluechanged&#39;, onAccelerometerData); </span><br><span class="line">	&#125;)  </span><br><span class="line">		.catch(error &#x3D;&gt; &#123; </span><br><span class="line">		console.log(&#39;Error: &#39; + error);   </span><br><span class="line">		alert(&#39;Error: &#39; + error);  </span><br><span class="line">		return;  </span><br><span class="line">	&#125;); </span><br><span class="line">&#125; </span><br><span class="line">	else</span><br><span class="line">	&#123; </span><br><span class="line">		accelerometer_data.stopNotifications()  </span><br><span class="line">			.then(_ &#x3D;&gt; &#123;  </span><br><span class="line">			console.log(&#39;accelerometer notificaions stopped&#39;); </span><br><span class="line">			setNotificationsStatus(false); </span><br><span class="line">			accelerometer_data.removeEventListener(&#39;characteristicvaluechanged&#39;, onAccelerometerData); </span><br><span class="line">		&#125;)   </span><br><span class="line">			.catch(error &#x3D;&gt; &#123;  </span><br><span class="line">			console.log(&#39;Could not stop accelerometer_data notifications: &#39; + error);  </span><br><span class="line">		&#125;); </span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;h2&gt; Status&lt;&#x2F;h2&gt;</span><br><span class="line">&lt;table border&#x3D;&quot;1&quot;&gt;</span><br><span class="line">  &lt;tr&gt; &lt;!--表格的第一行 --&gt;</span><br><span class="line">    &lt;td&gt;&lt;b&gt;Connected&lt;&#x2F;b&gt;&lt;&#x2F;td&gt;</span><br><span class="line">    &lt;td&gt;&lt;b&gt;Service Discovery Completed&lt;&#x2F;b&gt;&lt;&#x2F;td&gt;</span><br><span class="line">	  &lt;td&gt;     &lt;b&gt;Notifications&lt;&#x2F;b&gt;    &lt;&#x2F;td&gt;</span><br><span class="line">  &lt;&#x2F;tr&gt;</span><br><span class="line">  &lt;tr&gt; &lt;!--表格的第二行 --&gt;</span><br><span class="line">    &lt;td id&#x3D;&quot;status_connected&quot;&gt; false &lt;&#x2F;td&gt;</span><br><span class="line">    &lt;td id&#x3D;&quot;status_discovered&quot;&gt; false &lt;&#x2F;td&gt;</span><br><span class="line">	  &lt;td id&#x3D;&quot;status_notifications&quot;&gt;false&lt;&#x2F;td&gt;</span><br><span class="line">  &lt;&#x2F;tr&gt;</span><br><span class="line">&lt;&#x2F;table&gt;</span><br><span class="line">&lt;h2&gt; Device Discovery  Or Disconnect &lt;!-- 扫描&#x2F;发现蓝牙设备 --&gt; </span><br><span class="line">&lt;&#x2F;h2 &gt;</span><br><span class="line">&lt;button id&#x3D;&quot;btn_scan&quot; onclick&#x3D;&quot;discoverOrdisconnectDevices()&quot;&gt;Start scan&lt;&#x2F;button&gt;</span><br><span class="line">&lt;hr&gt;</span><br><span class="line">&lt;h2&gt;Reading and Writing&lt;&#x2F;h2&gt;</span><br><span class="line">&lt;h3&gt;Write Characteristic - Randomise Lights&lt;&#x2F;h3&gt;</span><br><span class="line">&lt;button id&#x3D;&quot;btn_write&quot; onclick&#x3D;&quot;randomLEDs()&quot;&gt;Randomise LEDs&lt;&#x2F;button&gt;</span><br><span class="line">&lt;h3&gt;Read Characteristic - Model Number&lt;&#x2F;h3&gt; </span><br><span class="line">&lt;button id&#x3D;&quot;btn_read&quot; onclick&#x3D;&quot;readModelNumber()&quot;&gt;Read Model Number&lt;&#x2F;button&gt; </span><br><span class="line">&lt;div id&#x3D;&quot;model_number&quot;&gt;&lt;&#x2F;div&gt; </span><br><span class="line">&lt;hr&gt;</span><br><span class="line">	&lt;h2&gt;Notifications - Accelerometer X, Y, Z&lt;&#x2F;h2&gt; </span><br><span class="line">	&lt;button id&#x3D;&quot;btn_notify&quot; onclick&#x3D;&quot;toggleAccelerometerNotifications()&quot;&gt;Toggle Notifications&lt;&#x2F;button&gt;  &lt;div id&#x3D;&quot;accelerometer_data&quot;&gt;&lt;&#x2F;div&gt; </span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<h4 id="观察现象"><a href="#观察现象" class="headerlink" title="观察现象"></a>观察现象</h4><p><a href="https://cdn.jsdelivr.net/gh/sunflower-air/clouding/images/20200622214218.png" target="_blank" rel="noopener"><img src="https://cdn.jsdelivr.net/gh/sunflower-air/clouding/images/20200622214218.png" alt="img"></a></p>
<p>图上的状态差不多是板子在水平状态下的值。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/22/%E8%93%9D%E7%89%99%E8%AE%BE%E5%A4%87/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="陈龙">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="陈龙 の 博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/22/%E8%93%9D%E7%89%99%E8%AE%BE%E5%A4%87/" class="post-title-link" itemprop="url">蓝牙设备</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-06-22 21:05:58 / 修改时间：21:06:35" itemprop="dateCreated datePublished" datetime="2020-06-22T21:05:58+08:00">2020-06-22</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>代码部分:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;script&gt;</span><br><span class="line">            var selected_device;           &#x2F;&#x2F; 保存用户选择的蓝牙设备</span><br><span class="line">            var connected_server;           &#x2F;&#x2F;在第二课基础上添加的变量，保存用户连接的蓝牙设备</span><br><span class="line">            var connected&#x3D;false;            &#x2F;&#x2F;在第三课基础上添加的变量，保存电脑蓝牙的当前连接设备</span><br><span class="line">            function discoverDevices()</span><br><span class="line">            &#123;</span><br><span class="line">                console.log(&quot;discoverDevices&quot;);     &#x2F;&#x2F;consol.log 控制台打印输出</span><br><span class="line">                var options &#x3D; &#123;acceptAllDevices:true&#125;        &#x2F;&#x2F;发现所有周边蓝牙设备</span><br><span class="line">                navigator.bluetooth.requestDevice(options)      &#x2F;&#x2F;Navigator对象，包含有关游览器的信息</span><br><span class="line">                .then(device &#x3D;&gt; &#123;</span><br><span class="line">                    console.log(&#39;&gt; Name:        &#39; + device.name);</span><br><span class="line">                    console.log(&#39;&gt; Id:          &#39; + device.id);</span><br><span class="line">                    console.log(&#39;&gt; Connected:   &#39; + device.gatt.connected);</span><br><span class="line">                    selected_device &#x3D; device;</span><br><span class="line">                    console.log(selected_device);</span><br><span class="line">                    connect();  </span><br><span class="line">                &#125;)</span><br><span class="line">                .catch(error &#x3D;&gt;&#123;</span><br><span class="line">                    alert(&#39;ERROR:&#39; +error);</span><br><span class="line">                    console.log(&#39;ERROR:&#39; +error);</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            function connect()</span><br><span class="line">            &#123;</span><br><span class="line">                console.log(&quot;connecting&quot;);</span><br><span class="line">                selected_device.gatt.connect()</span><br><span class="line">                .then(</span><br><span class="line">                    function(server)                            &#x2F;&#x2F;表示连接成功</span><br><span class="line">                    &#123;</span><br><span class="line">                        console.log(&quot;Connected to&quot; + server.device.id);</span><br><span class="line">                        console.log(&quot;Connected&#x3D;&quot; + server.connected);</span><br><span class="line">                        connected_server &#x3D; server;</span><br><span class="line">                        setConnectedStatus(true);</span><br><span class="line"></span><br><span class="line">                    &#125;,</span><br><span class="line">                    function(error)                              &#x2F;&#x2F;表示连接失败</span><br><span class="line">                    &#123;</span><br><span class="line">                        console.log(&quot;ERROR:could not connct-&quot; + error);</span><br><span class="line">                        alert(&quot;ERROR:could not connct-&quot; + error);</span><br><span class="line">                        setConnectedStatus(false);</span><br><span class="line"></span><br><span class="line">                    &#125;</span><br><span class="line">                );</span><br><span class="line">            &#125;</span><br><span class="line">            function setConnectedStatus(status)</span><br><span class="line">            &#123;</span><br><span class="line">                connected&#x3D;status;</span><br><span class="line">                document.getElementById(&#39;status_connected&#39;).innerHTML&#x3D;status;</span><br><span class="line">                if(status&#x3D;&#x3D;true)</span><br><span class="line">                &#123;</span><br><span class="line">                    document.getElementById(&#39;btn_scan&#39;).innerHTML&#x3D;&quot;Disconnect&quot;;</span><br><span class="line">                &#125;</span><br><span class="line">                else</span><br><span class="line">                &#123;</span><br><span class="line">                    document.getElementById(&#39;btn_scan&#39;).innerHTML&#x3D;&quot;Discover Devices&quot;;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &lt;&#x2F;script&gt;</span><br><span class="line">    &lt;&#x2F;head&gt;</span><br><span class="line">    &lt;body&gt;       </span><br><span class="line">        &lt;h2&gt;</span><br><span class="line">            Status  &lt;!-- 显示蓝牙状态--&gt;</span><br><span class="line">        &lt;&#x2F;h2&gt;</span><br><span class="line">        &lt;table border&#x3D;&quot;1&quot;&gt;</span><br><span class="line">            &lt;tr&gt;</span><br><span class="line">                &lt;td&gt;    &lt;b&gt;Connected&lt;&#x2F;b&gt;    &lt;&#x2F;td&gt;</span><br><span class="line">            &lt;&#x2F;tr&gt;</span><br><span class="line">            &lt;tr&gt;</span><br><span class="line">                &lt;td id&#x3D;&quot;status_connected&quot;&gt;False&lt;&#x2F;td&gt;</span><br><span class="line">            &lt;&#x2F;tr&gt;</span><br><span class="line">        &lt;&#x2F;table&gt; </span><br><span class="line">        &lt;h2&gt;Device Discovery &lt;&#x2F;h2&gt;     &lt;!-- 扫描&#x2F;发现蓝牙设备 --&gt;</span><br><span class="line">        &lt;button id&#x3D;&quot;btn_scan&quot; onclick&#x3D;&quot;discoverDevices()&quot;&gt;</span><br><span class="line">            Start scan</span><br><span class="line">        &lt;&#x2F;button&gt;</span><br><span class="line">    &lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<p>调用谷歌浏览器的内置蓝牙功能搜索周边设备找到自己的设备名，然后在网页的JS里面调用蓝牙的库函数搜索蓝牙设备，然后在蓝牙设备列表里面找到自己的设备，点击连接表格里面的连接状态就变成<code>TRUE</code>.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/22/%E6%9C%8D%E5%8A%A1%E7%89%B9%E6%80%A7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="陈龙">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="陈龙 の 博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/22/%E6%9C%8D%E5%8A%A1%E7%89%B9%E6%80%A7/" class="post-title-link" itemprop="url">服务特性</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-06-22 21:04:57" itemprop="dateCreated datePublished" datetime="2020-06-22T21:04:57+08:00">2020-06-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-06-24 21:11:58" itemprop="dateModified" datetime="2020-06-24T21:11:58+08:00">2020-06-24</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>代码部分:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;script&gt;</span><br><span class="line">            var selected_device;          </span><br><span class="line">            var connected_server;           </span><br><span class="line">            var connected&#x3D;false;         </span><br><span class="line">            var services_discovered &#x3D;false; &#x2F;&#x2F;在第五节课上添加</span><br><span class="line">            &#x2F;&#x2F;在第5课上添加以下内容</span><br><span class="line">            &#x2F;&#x2F; presence of services and characteristics </span><br><span class="line">            var has_accelerometer_service &#x3D; false; </span><br><span class="line">            var has_accelerometer_data &#x3D; false; </span><br><span class="line"></span><br><span class="line">            var has_led_service &#x3D; false;</span><br><span class="line">            var has_led_matrix_state &#x3D; false; </span><br><span class="line"></span><br><span class="line">            var has_device_information_service &#x3D; false; </span><br><span class="line">            var has_model_number_string &#x3D; false; </span><br><span class="line"></span><br><span class="line">            var has_temperature_service &#x3D; false;</span><br><span class="line">            var has_temperature &#x3D; false;</span><br><span class="line"></span><br><span class="line">            </span><br><span class="line">        </span><br><span class="line">            &#x2F;&#x2F; service UUIDs </span><br><span class="line">            ACCELEROMETER_SERVICE &#x3D; &#39;e95d0753-251d-470a-a062-fa1922dfa9a8&#39;; </span><br><span class="line">            LED_SERVICE &#x3D; &#39;e95dd91d-251d-470a-a062-fa1922dfa9a8&#39;; </span><br><span class="line">            DEVICE_INFORMATION_SERVICE &#x3D; &#39;0000180a-0000-1000-8000-00805f9b34fb&#39;;</span><br><span class="line">            TEMPERATURE_SERVICE &#x3D; &#39;e95d6100-251d-470a-a062-fa1922dfa9a8&#39;;</span><br><span class="line">            &#x2F;&#x2F; characteristic UUIDs </span><br><span class="line">            ACCELEROMETER_DATA &#x3D; &#39;e95dca4b-251d-470a-a062-fa1922dfa9a8&#39;; </span><br><span class="line">            LED_MATRIX_STATE  &#x3D; &#39;e95d7b77-251d-470a-a062-fa1922dfa9a8&#39;; </span><br><span class="line">            MODEL_NUMBER_STRING &#x3D; &#39;00002a24-0000-1000-8000-00805f9b34fb&#39;; </span><br><span class="line">            TEMPERATURE&#x3D;&#39;e95d9250-251d-470a-a062-fa1922dfa9a8&#39;;</span><br><span class="line"></span><br><span class="line">        </span><br><span class="line">            &#x2F;&#x2F; cached characteristics var accelerometer_data; </span><br><span class="line">            var accelerometer_data;</span><br><span class="line">            var led_matrix_state; </span><br><span class="line">            var model_number_string;</span><br><span class="line">            var temperature;</span><br><span class="line">            </span><br><span class="line">            &#x2F;&#x2F;</span><br><span class="line">            var service_count;</span><br><span class="line">            var services_discovered;</span><br><span class="line">            var characteristics_discovered;  </span><br><span class="line">            var characteristic_count ; </span><br><span class="line">            function discoverDevicesOrDisconnect()          &#x2F;&#x2F;在第四课基础上添加的函数</span><br><span class="line">            &#123;</span><br><span class="line">                console.log(&quot;discoverDevicesOrDisconnect&quot;);</span><br><span class="line">                console.log(&quot;光芒万丈小太阳&quot;)</span><br><span class="line">                if(!connected)</span><br><span class="line">                    discoverDevices();</span><br><span class="line">                else</span><br><span class="line">                &#123;</span><br><span class="line">                    selected_device.gatt.disconnect();</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            function onDisconnected()                   &#x2F;&#x2F;在第四课基础上添加的函数</span><br><span class="line">            &#123;</span><br><span class="line">                console.log(&quot;onDisconnected&quot;)</span><br><span class="line">                resetUI();</span><br><span class="line">            &#125;</span><br><span class="line">            function discoverDevices()</span><br><span class="line">            &#123;</span><br><span class="line">                console.log(&quot;discoverDevices&quot;);     &#x2F;&#x2F;consol.log 控制台打印输出</span><br><span class="line">                var options &#x3D; &#123;acceptAllDevices:true,           </span><br><span class="line">                optionalServices: [DEVICE_INFORMATION_SERVICE, ACCELEROMETER_SERVICE, LED_SERVICE,TEMPERATURE_SERVICE]  &#x2F;&#x2F;在第5节课上添加</span><br><span class="line">                              &#125;        &#x2F;&#x2F;发现所有周边蓝牙设备</span><br><span class="line">                navigator.bluetooth.requestDevice(options)      &#x2F;&#x2F;Navigator对象，包含有关游览器的信息</span><br><span class="line">                .then(device &#x3D;&gt; &#123;</span><br><span class="line">                    console.log(&#39;&gt; Name:        &#39; + device.name);</span><br><span class="line">                    console.log(&#39;&gt; Id:          &#39; + device.id);</span><br><span class="line">                    console.log(&#39;&gt; Connected:   &#39; + device.gatt.connected);</span><br><span class="line">                    selected_device &#x3D; device;</span><br><span class="line">                    console.log(selected_device);</span><br><span class="line">                    connect();                              &#x2F;&#x2F;在第二课基础上添加的函数</span><br><span class="line">                &#125;)</span><br><span class="line">                .catch(error &#x3D;&gt;&#123;</span><br><span class="line">                    alert(&#39;ERROR:&#39; +error);</span><br><span class="line">                    console.log(&#39;ERROR:&#39; +error);</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            function connect()</span><br><span class="line">            &#123;</span><br><span class="line">                console.log(&quot;connecting&quot;);</span><br><span class="line">                selected_device.gatt.connect()</span><br><span class="line">                .then(</span><br><span class="line">                    function(server)                            &#x2F;&#x2F;表示连接成功</span><br><span class="line">                    &#123;</span><br><span class="line">                        console.log(&quot;Connected to&quot; + server.device.id);</span><br><span class="line">                        console.log(&quot;Connected&#x3D;&quot; + server.connected);</span><br><span class="line">                        selected_device.addEventListener(&#39;gattserverdisconnected&#39;,onDisconnected);</span><br><span class="line"></span><br><span class="line">                        connected_server &#x3D; server;</span><br><span class="line">                        discoverSvcsAndChars();</span><br><span class="line">                        setConnectedStatus(true);</span><br><span class="line"></span><br><span class="line">                    &#125;,</span><br><span class="line">                    function(error)                              &#x2F;&#x2F;表示连接失败</span><br><span class="line">                    &#123;</span><br><span class="line">                        console.log(&quot;ERROR:could not connct-&quot; + error);</span><br><span class="line">                        alert(&quot;ERROR:could not connct-&quot; + error);</span><br><span class="line">                        setConnectedStatus(false);</span><br><span class="line"></span><br><span class="line">                    &#125;</span><br><span class="line">                );</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            function setConnectedStatus(status)</span><br><span class="line">            &#123;</span><br><span class="line">                connected&#x3D;status;</span><br><span class="line">                document.getElementById(&#39;status_connected&#39;).innerHTML&#x3D;status;</span><br><span class="line">                if(status&#x3D;&#x3D;true)</span><br><span class="line">                &#123;</span><br><span class="line">                    document.getElementById(&#39;btn_scan&#39;).innerHTML&#x3D;&quot;Disconnect&quot;;</span><br><span class="line">                &#125;</span><br><span class="line">                else</span><br><span class="line">                &#123;</span><br><span class="line">                    document.getElementById(&#39;btn_scan&#39;).innerHTML&#x3D;&quot;Discover Devices&quot;;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            function setDiscoveryStatus(status)</span><br><span class="line">            &#123;</span><br><span class="line">                services_discovered &#x3D; status;</span><br><span class="line">                document.getElementById(&#39;status_discovered&#39;).innerHTML &#x3D; status;</span><br><span class="line">            &#125;</span><br><span class="line">            function resetUI()</span><br><span class="line">            &#123;</span><br><span class="line">                setConnectedStatus(false);</span><br><span class="line">                setDiscoveryStatus(false);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            function discoverSvcsAndChars()    &#x2F;&#x2F;在第5课基础上添加的函数</span><br><span class="line">            &#123;  </span><br><span class="line">                console.log(&quot;discoverSvcsAndChars server&#x3D;&quot; + connected_server); </span><br><span class="line">                connected_server.getPrimaryServices()</span><br><span class="line">                .then(services &#x3D;&gt; </span><br><span class="line">                &#123;    </span><br><span class="line">                        has_accelerometer_service &#x3D; false;    </span><br><span class="line">                        has_led_service &#x3D; false;    </span><br><span class="line">                        has_device_information_service &#x3D; false; </span><br><span class="line">                        has_temperature_service &#x3D; false;</span><br><span class="line">            </span><br><span class="line">                        services_discovered &#x3D; 0;    </span><br><span class="line">                        service_count &#x3D; services.length;    </span><br><span class="line">                        console.log(&quot;Got &quot; + service_count + &quot; services&quot;); </span><br><span class="line">            </span><br><span class="line">                        services.forEach(service &#x3D;&gt; </span><br><span class="line">                        &#123;     </span><br><span class="line">                            if (service.uuid &#x3D;&#x3D; ACCELEROMETER_SERVICE)</span><br><span class="line">                            &#123;      </span><br><span class="line">                                has_accelerometer_service &#x3D; true;    </span><br><span class="line">                            &#125;     </span><br><span class="line">                            if (service.uuid &#x3D;&#x3D; LED_SERVICE) </span><br><span class="line">                            &#123;      </span><br><span class="line">                                has_led_service &#x3D; true;     </span><br><span class="line">                            &#125;     </span><br><span class="line">                            if (service.uuid &#x3D;&#x3D; DEVICE_INFORMATION_SERVICE) </span><br><span class="line">                            &#123;      </span><br><span class="line">                                has_device_information_service &#x3D; true;     </span><br><span class="line">                            &#125;</span><br><span class="line">                            if (service.uuid &#x3D;&#x3D; TEMPERATURE_SERVICE) </span><br><span class="line">                            &#123;      </span><br><span class="line">                                has_temperature_service &#x3D; true;     </span><br><span class="line">                            &#125;     </span><br><span class="line">                            console.log(&#39;Getting Characteristics for service &#39; + service.uuid);     </span><br><span class="line">                            service.getCharacteristics()</span><br><span class="line">                            .then(characteristics &#x3D;&gt; </span><br><span class="line">                            &#123;      </span><br><span class="line">                                console.log(&#39;&gt; Service: &#39; + service.uuid);      </span><br><span class="line">                                services_discovered++;     </span><br><span class="line">                                characteristics_discovered &#x3D; 0;      </span><br><span class="line">                                characteristic_count &#x3D; characteristics.length;      </span><br><span class="line">                                characteristics.forEach(characteristic &#x3D;&gt; </span><br><span class="line">                                &#123;       </span><br><span class="line">                                    characteristics_discovered++;       </span><br><span class="line">                                    console.log(&#39;&gt;&gt; Characteristic: &#39; + characteristic.uuid);       </span><br><span class="line">                                    if (characteristic.uuid &#x3D;&#x3D; ACCELEROMETER_DATA)</span><br><span class="line">                                    &#123;        </span><br><span class="line">                                        accelerometer_data &#x3D; characteristic;        </span><br><span class="line">                                        has_accelerometer_data &#x3D; true;       </span><br><span class="line">                                    &#125;       </span><br><span class="line">                                    if (characteristic.uuid &#x3D;&#x3D; LED_MATRIX_STATE) </span><br><span class="line">                                    &#123;        </span><br><span class="line">                                        led_matrix_state &#x3D; characteristic;        </span><br><span class="line">                                        has_led_matrix_state &#x3D; true;       </span><br><span class="line">                                    &#125;       </span><br><span class="line">                                    if (characteristic.uuid &#x3D;&#x3D; MODEL_NUMBER_STRING) </span><br><span class="line">                                    &#123;        </span><br><span class="line">                                        model_number_string &#x3D; characteristic;        </span><br><span class="line">                                        has_model_number_string &#x3D; true;       </span><br><span class="line">                                    &#125;</span><br><span class="line">                                    if (characteristic.uuid &#x3D;&#x3D; TEMPERATURE) </span><br><span class="line">                                    &#123;        </span><br><span class="line">                                        temperature &#x3D; characteristic;        </span><br><span class="line">                                        has_temperature &#x3D; true;       </span><br><span class="line">                                    &#125;</span><br><span class="line">                                    if (services_discovered &#x3D;&#x3D; service_count &amp;&amp; characteristics_discovered &#x3D;&#x3D; characteristic_count) </span><br><span class="line">                                    &#123;        </span><br><span class="line">                                        console.log(&quot;FINISHED DISCOVERY&quot;); </span><br><span class="line">                                        setDiscoveryStatus(true);       </span><br><span class="line">                                      &#x2F;&#x2F;  setDiscoveryStatus(true);                  </span><br><span class="line">                                    &#125;      </span><br><span class="line">                                &#125;);     </span><br><span class="line">                            &#125;);    </span><br><span class="line">                        &#125;);  </span><br><span class="line">                &#125;);</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">            var i&#x3D;0;</span><br><span class="line">            function randomLEDs()   &#x2F;&#x2F;第6课上添加</span><br><span class="line">            &#123;  </span><br><span class="line">                console.log(&quot;randomLEDs&quot;);   </span><br><span class="line">                &#x2F;&#x2F; state validation   </span><br><span class="line">                if (!connected) </span><br><span class="line">                &#123;     </span><br><span class="line">                    alert(&quot;Error: Discover and connect to a device before using this function&quot;);     </span><br><span class="line">                    return;   </span><br><span class="line">                &#125;   </span><br><span class="line">                if (!services_discovered) </span><br><span class="line">                &#123;     </span><br><span class="line">                    alert(&quot;Error: Service discovery has not yet completed&quot;);     </span><br><span class="line">                    return;  </span><br><span class="line">                &#125;   </span><br><span class="line">                if (!has_led_service) </span><br><span class="line">                &#123;     </span><br><span class="line">                    alert(&quot;Error: The connected device does not contain the LED service&quot;);     </span><br><span class="line">                    return;  </span><br><span class="line">                &#125;   </span><br><span class="line">                if (!has_led_matrix_state) </span><br><span class="line">                &#123;      </span><br><span class="line">                    alert(&quot;Error: The connected device does not contain the LED matrix state characteristic&quot;);      </span><br><span class="line">                    return;   </span><br><span class="line">                &#125;   </span><br><span class="line">                var led_array &#x3D; [0, 0, 0, 0, 0];   </span><br><span class="line">                </span><br><span class="line">                var led_array2 &#x3D;[[12,2,12,2,12],[4,10,2,4,14],[4,12,4,4,14],[0,10,21,10,4],[10,21,17,10,4]];</span><br><span class="line">                &#x2F;&#x2F; Math.random():0~1  Math.floor(x):返回小于等于x的最大整数</span><br><span class="line">                </span><br><span class="line">                    </span><br><span class="line">                    led_array&#x3D;led_array2[i%5];</span><br><span class="line">                    i++;</span><br><span class="line">                    &#x2F;*led_array[0] &#x3D; led_array2[i][1];</span><br><span class="line">                    led_array[1] &#x3D; led_array2[i][1];</span><br><span class="line">                    led_array[2] &#x3D; led_array2[i][2];</span><br><span class="line">                    led_array[3] &#x3D; led_array2[i][3];</span><br><span class="line">                    led_array[4] &#x3D; led_array2[i][4];*&#x2F;</span><br><span class="line">                </span><br><span class="line">               &#x2F;* led_array[0] &#x3D; 10;&#x2F;&#x2F;Math.floor(Math.random() * 32);  </span><br><span class="line">                led_array[1] &#x3D; 21;   </span><br><span class="line">                led_array[2] &#x3D; 17;   </span><br><span class="line">                led_array[3] &#x3D; 10;   </span><br><span class="line">                led_array[4] &#x3D; 4; *&#x2F;</span><br><span class="line">    </span><br><span class="line">                var led_matrix_data &#x3D; new Uint8Array(led_array); </span><br><span class="line"></span><br><span class="line">                led_matrix_state.writeValue(led_matrix_data.buffer)</span><br><span class="line">                .then(_ &#x3D;&gt; &#123;   </span><br><span class="line">                    console.log(&#39;LED matrix state changed&#39;);  </span><br><span class="line">                    &#125;)  </span><br><span class="line">                .catch(error &#x3D;&gt; &#123;   </span><br><span class="line">                    console.log(&#39;Error: &#39; + error);   </span><br><span class="line">                    alert(&#39;Error: &#39; + error);   return;  </span><br><span class="line">                    &#125;); </span><br><span class="line">            &#125; </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        &lt;&#x2F;script&gt;</span><br><span class="line">    &lt;&#x2F;head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;h1&gt;Web Bluetooth&lt;&#x2F;h1&gt;</span><br><span class="line">        &lt;h2&gt;</span><br><span class="line">            Status  &lt;!-- 显示蓝牙状态--&gt;</span><br><span class="line">        &lt;&#x2F;h2&gt;</span><br><span class="line">        &lt;table border&#x3D;&quot;1&quot;&gt;</span><br><span class="line">            &lt;tr&gt;</span><br><span class="line">                &lt;td&gt;    &lt;b&gt;Connected&lt;&#x2F;b&gt;    &lt;&#x2F;td&gt;</span><br><span class="line">                &lt;td&gt;    &lt;b&gt;Service Discovery Completed&lt;&#x2F;b&gt;    &lt;&#x2F;td&gt;</span><br><span class="line">            &lt;&#x2F;tr&gt;</span><br><span class="line">            &lt;tr&gt;</span><br><span class="line">                &lt;td id&#x3D;&quot;status_connected&quot;&gt;False&lt;&#x2F;td&gt;</span><br><span class="line">                &lt;td id&#x3D;&quot;status_discovered&quot;&gt;False&lt;&#x2F;td&gt;</span><br><span class="line">            &lt;&#x2F;tr&gt;</span><br><span class="line">        &lt;&#x2F;table&gt;</span><br><span class="line">        &lt;hr&gt;</span><br><span class="line">        &lt;h2&gt;Device Discovery Or Disconnect&lt;&#x2F;h2&gt;     &lt;!-- 扫描&#x2F;发现蓝牙设备 --&gt;</span><br><span class="line">        &lt;button id&#x3D;&quot;btn_scan&quot; onclick&#x3D;&quot;discoverDevicesOrDisconnect()&quot;&gt;</span><br><span class="line">            Discover Devices</span><br><span class="line">        &lt;&#x2F;button&gt;</span><br><span class="line">        &lt;hr&gt;</span><br><span class="line">        &lt;h2&gt;Reading and Writing&lt;&#x2F;h2&gt;</span><br><span class="line">        &lt;h3&gt;Write Characteristic - Randomise Lights&lt;&#x2F;h3&gt;  </span><br><span class="line">        &lt;button id&#x3D;&quot;btn_write&quot; onclick&#x3D;&quot;randomLEDs()&quot;&gt;Randomise LEDs&lt;&#x2F;button&gt; </span><br><span class="line">        &lt;hr&gt;</span><br><span class="line">        </span><br><span class="line">    &lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<p>本次课程，要求的是增加温度服务特性，首先在sig web 上下载蓝牙温度服务程序，具体代码如上</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/22/%E8%AF%BB%E5%86%99%E7%89%B9%E6%80%A7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="陈龙">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="陈龙 の 博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/22/%E8%AF%BB%E5%86%99%E7%89%B9%E6%80%A7/" class="post-title-link" itemprop="url">读写特性</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-06-22 21:03:31 / 修改时间：21:04:42" itemprop="dateCreated datePublished" datetime="2020-06-22T21:03:31+08:00">2020-06-22</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>代码部分:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br></pre></td><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        var selected_device; &#x2F;&#x2F; 保存用户选择的蓝牙设备</span><br><span class="line">        var connected_server; &#x2F;&#x2F;在第二课基础上添加的变量，保存用户连接的蓝牙设备</span><br><span class="line">        var connected &#x3D; false; &#x2F;&#x2F;在第三课基础上添加的变量，保存电脑蓝牙的当前连接设备</span><br><span class="line">        var services_discovered &#x3D; false; &#x2F;&#x2F;在第五节课上添加</span><br><span class="line">        &#x2F;&#x2F;在第5课上添加以下内容</span><br><span class="line">        &#x2F;&#x2F; presence of services and characteristics </span><br><span class="line">        var has_accelerometer_service &#x3D; false;</span><br><span class="line">        var has_accelerometer_data &#x3D; false;</span><br><span class="line"></span><br><span class="line">        var has_led_service &#x3D; false;</span><br><span class="line">        var has_led_matrix_state &#x3D; false;</span><br><span class="line"></span><br><span class="line">        var has_device_information_service &#x3D; false;</span><br><span class="line">        var has_model_number_string &#x3D; false;</span><br><span class="line"></span><br><span class="line">        var has_temperature_service &#x3D; false;</span><br><span class="line">        var has_temperature &#x3D; false;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; service UUIDs </span><br><span class="line">        ACCELEROMETER_SERVICE &#x3D; &#39;e95d0753-251d-470a-a062-fa1922dfa9a8&#39;;</span><br><span class="line">        LED_SERVICE &#x3D; &#39;e95dd91d-251d-470a-a062-fa1922dfa9a8&#39;;</span><br><span class="line">        DEVICE_INFORMATION_SERVICE &#x3D; &#39;0000180a-0000-1000-8000-00805f9b34fb&#39;;</span><br><span class="line">        TEMPERATURE_SERVICE &#x3D; &#39;e95d6100-251d-470a-a062-fa1922dfa9a8&#39;;</span><br><span class="line">        &#x2F;&#x2F; characteristic UUIDs </span><br><span class="line">        ACCELEROMETER_DATA &#x3D; &#39;e95dca4b-251d-470a-a062-fa1922dfa9a8&#39;;</span><br><span class="line">        LED_MATRIX_STATE &#x3D; &#39;e95d7b77-251d-470a-a062-fa1922dfa9a8&#39;;</span><br><span class="line">        MODEL_NUMBER_STRING &#x3D; &#39;00002a24-0000-1000-8000-00805f9b34fb&#39;;</span><br><span class="line">        TEMPERATURE &#x3D; &#39;e95d9250-251d-470a-a062-fa1922dfa9a8&#39;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; cached characteristics var accelerometer_data; </span><br><span class="line">        var accelerometer_data;</span><br><span class="line">        var led_matrix_state;</span><br><span class="line">        var model_number_string;</span><br><span class="line">        var temperature;</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F;</span><br><span class="line">        var service_count;</span><br><span class="line">        var services_discovered;</span><br><span class="line">        var characteristics_discovered;</span><br><span class="line">        var characteristic_count;</span><br><span class="line"></span><br><span class="line">        function discoverDevicesOrDisconnect() &#x2F;&#x2F;在第四课基础上添加的函数</span><br><span class="line">        &#123;</span><br><span class="line">            console.log(&quot;discoverDevicesOrDisconnect&quot;);</span><br><span class="line">            console.log(&quot;光芒万丈小太阳&quot;)</span><br><span class="line">            if (!connected)</span><br><span class="line">                discoverDevices();</span><br><span class="line">            else &#123;</span><br><span class="line">                selected_device.gatt.disconnect();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        function onDisconnected() &#x2F;&#x2F;在第四课基础上添加的函数</span><br><span class="line">        &#123;</span><br><span class="line">            console.log(&quot;onDisconnected&quot;)</span><br><span class="line">            resetUI();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        function discoverDevices() &#123;</span><br><span class="line">            console.log(&quot;discoverDevices&quot;); &#x2F;&#x2F;consol.log 控制台打印输出</span><br><span class="line">            var options &#x3D; &#123;</span><br><span class="line">                acceptAllDevices: true,</span><br><span class="line">                optionalServices: [DEVICE_INFORMATION_SERVICE, ACCELEROMETER_SERVICE, LED_SERVICE,</span><br><span class="line">                    TEMPERATURE_SERVICE</span><br><span class="line">                ] &#x2F;&#x2F;在第5节课上添加</span><br><span class="line">            &#125; &#x2F;&#x2F;发现所有周边蓝牙设备</span><br><span class="line">            navigator.bluetooth.requestDevice(options) &#x2F;&#x2F;Navigator对象，包含有关游览器的信息</span><br><span class="line">                .then(device &#x3D;&gt; &#123;</span><br><span class="line">                    console.log(&#39;&gt; Name:        &#39; + device.name);</span><br><span class="line">                    console.log(&#39;&gt; Id:          &#39; + device.id);</span><br><span class="line">                    console.log(&#39;&gt; Connected:   &#39; + device.gatt.connected);</span><br><span class="line">                    selected_device &#x3D; device;</span><br><span class="line">                    console.log(selected_device);</span><br><span class="line">                    connect(); &#x2F;&#x2F;在第二课基础上添加的函数</span><br><span class="line">                &#125;)</span><br><span class="line">                .catch(error &#x3D;&gt; &#123;</span><br><span class="line">                    alert(&#39;ERROR:&#39; + error);</span><br><span class="line">                    console.log(&#39;ERROR:&#39; + error);</span><br><span class="line">                &#125;);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        function connect() &#123;</span><br><span class="line">            console.log(&quot;connecting&quot;);</span><br><span class="line">            selected_device.gatt.connect()</span><br><span class="line">                .then(</span><br><span class="line">                    function (server) &#x2F;&#x2F;表示连接成功</span><br><span class="line">                    &#123;</span><br><span class="line">                        console.log(&quot;Connected to&quot; + server.device.id);</span><br><span class="line">                        console.log(&quot;Connected&#x3D;&quot; + server.connected);</span><br><span class="line">                        selected_device.addEventListener(&#39;gattserverdisconnected&#39;, onDisconnected);</span><br><span class="line"></span><br><span class="line">                        connected_server &#x3D; server;</span><br><span class="line">                        discoverSvcsAndChars();</span><br><span class="line">                        setConnectedStatus(true);</span><br><span class="line"></span><br><span class="line">                    &#125;,</span><br><span class="line">                    function (error) &#x2F;&#x2F;表示连接失败</span><br><span class="line">                    &#123;</span><br><span class="line">                        console.log(&quot;ERROR:could not connct-&quot; + error);</span><br><span class="line">                        alert(&quot;ERROR:could not connct-&quot; + error);</span><br><span class="line">                        setConnectedStatus(false);</span><br><span class="line"></span><br><span class="line">                    &#125;</span><br><span class="line">                );</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        function setConnectedStatus(status) &#123;</span><br><span class="line">            connected &#x3D; status;</span><br><span class="line">            document.getElementById(&#39;status_connected&#39;).innerHTML &#x3D; status;</span><br><span class="line">            if (status &#x3D;&#x3D; true) &#123;</span><br><span class="line">                document.getElementById(&#39;btn_scan&#39;).innerHTML &#x3D; &quot;Disconnect&quot;;</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                document.getElementById(&#39;btn_scan&#39;).innerHTML &#x3D; &quot;Discover Devices&quot;;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        function setDiscoveryStatus(status) &#123;</span><br><span class="line">            services_discovered &#x3D; status;</span><br><span class="line">            document.getElementById(&#39;status_discovered&#39;).innerHTML &#x3D; status;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        function resetUI() &#123;</span><br><span class="line">            setConnectedStatus(false);</span><br><span class="line">            setDiscoveryStatus(false);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        function discoverSvcsAndChars() &#x2F;&#x2F;在第5课基础上添加的函数</span><br><span class="line">        &#123;</span><br><span class="line">            console.log(&quot;discoverSvcsAndChars server&#x3D;&quot; + connected_server);</span><br><span class="line">            connected_server.getPrimaryServices()</span><br><span class="line">                .then(services &#x3D;&gt; &#123;</span><br><span class="line">                    has_accelerometer_service &#x3D; false;</span><br><span class="line">                    has_led_service &#x3D; false;</span><br><span class="line">                    has_device_information_service &#x3D; false;</span><br><span class="line">                    has_temperature_service &#x3D; false;</span><br><span class="line"></span><br><span class="line">                    services_discovered &#x3D; 0;</span><br><span class="line">                    service_count &#x3D; services.length;</span><br><span class="line">                    console.log(&quot;Got &quot; + service_count + &quot; services&quot;);</span><br><span class="line"></span><br><span class="line">                    services.forEach(service &#x3D;&gt; &#123;</span><br><span class="line">                        if (service.uuid &#x3D;&#x3D; ACCELEROMETER_SERVICE) &#123;</span><br><span class="line">                            has_accelerometer_service &#x3D; true;</span><br><span class="line">                        &#125;</span><br><span class="line">                        if (service.uuid &#x3D;&#x3D; LED_SERVICE) &#123;</span><br><span class="line">                            has_led_service &#x3D; true;</span><br><span class="line">                        &#125;</span><br><span class="line">                        if (service.uuid &#x3D;&#x3D; DEVICE_INFORMATION_SERVICE) &#123;</span><br><span class="line">                            has_device_information_service &#x3D; true;</span><br><span class="line">                        &#125;</span><br><span class="line">                        if (service.uuid &#x3D;&#x3D; TEMPERATURE_SERVICE) &#123;</span><br><span class="line">                            has_temperature_service &#x3D; true;</span><br><span class="line">                        &#125;</span><br><span class="line">                        console.log(&#39;Getting Characteristics for service &#39; + service.uuid);</span><br><span class="line">                        service.getCharacteristics()</span><br><span class="line">                            .then(characteristics &#x3D;&gt; &#123;</span><br><span class="line">                                console.log(&#39;&gt; Service: &#39; + service.uuid);</span><br><span class="line">                                services_discovered++;</span><br><span class="line">                                characteristics_discovered &#x3D; 0;</span><br><span class="line">                                characteristic_count &#x3D; characteristics.length;</span><br><span class="line">                                characteristics.forEach(characteristic &#x3D;&gt; &#123;</span><br><span class="line">                                    characteristics_discovered++;</span><br><span class="line">                                    console.log(&#39;&gt;&gt; Characteristic: &#39; + characteristic.uuid);</span><br><span class="line">                                    if (characteristic.uuid &#x3D;&#x3D; ACCELEROMETER_DATA) &#123;</span><br><span class="line">                                        accelerometer_data &#x3D; characteristic;</span><br><span class="line">                                        has_accelerometer_data &#x3D; true;</span><br><span class="line">                                    &#125;</span><br><span class="line">                                    if (characteristic.uuid &#x3D;&#x3D; LED_MATRIX_STATE) &#123;</span><br><span class="line">                                        led_matrix_state &#x3D; characteristic;</span><br><span class="line">                                        has_led_matrix_state &#x3D; true;</span><br><span class="line">                                    &#125;</span><br><span class="line">                                    if (characteristic.uuid &#x3D;&#x3D; MODEL_NUMBER_STRING) &#123;</span><br><span class="line">                                        model_number_string &#x3D; characteristic;</span><br><span class="line">                                        has_model_number_string &#x3D; true;</span><br><span class="line">                                    &#125;</span><br><span class="line">                                    if (characteristic.uuid &#x3D;&#x3D; TEMPERATURE) &#123;</span><br><span class="line">                                        temperature &#x3D; characteristic;</span><br><span class="line">                                        has_temperature &#x3D; true;</span><br><span class="line">                                    &#125;</span><br><span class="line">                                    if (services_discovered &#x3D;&#x3D; service_count &amp;&amp;</span><br><span class="line">                                        characteristics_discovered &#x3D;&#x3D; characteristic_count) &#123;</span><br><span class="line">                                        console.log(&quot;FINISHED DISCOVERY&quot;);</span><br><span class="line">                                        setDiscoveryStatus(true);</span><br><span class="line">                                        &#x2F;&#x2F;  setDiscoveryStatus(true);                  </span><br><span class="line">                                    &#125;</span><br><span class="line">                                &#125;);</span><br><span class="line">                            &#125;);</span><br><span class="line">                    &#125;);</span><br><span class="line">                &#125;);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        var i &#x3D; 0;</span><br><span class="line"></span><br><span class="line">        function randomLEDs() &#x2F;&#x2F;第6课上添加</span><br><span class="line">        &#123;</span><br><span class="line">            console.log(&quot;randomLEDs&quot;);</span><br><span class="line">            &#x2F;&#x2F; state validation   </span><br><span class="line">            if (!connected) &#123;</span><br><span class="line">                alert(&quot;Error: Discover and connect to a device before using this function&quot;);</span><br><span class="line">                return;</span><br><span class="line">            &#125;</span><br><span class="line">            if (!services_discovered) &#123;</span><br><span class="line">                alert(&quot;Error: Service discovery has not yet completed&quot;);</span><br><span class="line">                return;</span><br><span class="line">            &#125;</span><br><span class="line">            if (!has_led_service) &#123;</span><br><span class="line">                alert(&quot;Error: The connected device does not contain the LED service&quot;);</span><br><span class="line">                return;</span><br><span class="line">            &#125;</span><br><span class="line">            if (!has_led_matrix_state) &#123;</span><br><span class="line">                alert(&quot;Error: The connected device does not contain the LED matrix state characteristic&quot;);</span><br><span class="line">                return;</span><br><span class="line">            &#125;</span><br><span class="line">            var led_array &#x3D; [0, 0, 0, 0, 0];</span><br><span class="line"></span><br><span class="line">            var led_array2 &#x3D; [</span><br><span class="line">                [12, 2, 12, 2, 12],</span><br><span class="line">                [4, 10, 2, 4, 14],</span><br><span class="line">                [4, 12, 4, 4, 14],</span><br><span class="line">                [0, 10, 21, 10, 4],</span><br><span class="line">                [10, 21, 17, 10, 4]</span><br><span class="line">            ];</span><br><span class="line">            &#x2F;&#x2F; Math.random():0~1  Math.floor(x):返回小于等于x的最大整数</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            led_array &#x3D; led_array2[i % 5];</span><br><span class="line">            i++;</span><br><span class="line">            &#x2F;*led_array[0] &#x3D; led_array2[i][1];</span><br><span class="line">            led_array[1] &#x3D; led_array2[i][1];</span><br><span class="line">            led_array[2] &#x3D; led_array2[i][2];</span><br><span class="line">            led_array[3] &#x3D; led_array2[i][3];</span><br><span class="line">            led_array[4] &#x3D; led_array2[i][4];*&#x2F;</span><br><span class="line"></span><br><span class="line">            &#x2F;* led_array[0] &#x3D; 10;&#x2F;&#x2F;Math.floor(Math.random() * 32);  </span><br><span class="line">             led_array[1] &#x3D; 21;   </span><br><span class="line">             led_array[2] &#x3D; 17;   </span><br><span class="line">             led_array[3] &#x3D; 10;   </span><br><span class="line">             led_array[4] &#x3D; 4; *&#x2F;</span><br><span class="line"></span><br><span class="line">            var led_matrix_data &#x3D; new Uint8Array(led_array);</span><br><span class="line"></span><br><span class="line">            led_matrix_state.writeValue(led_matrix_data.buffer)</span><br><span class="line">                .then(_ &#x3D;&gt; &#123;</span><br><span class="line">                    console.log(&#39;LED matrix state changed&#39;);</span><br><span class="line">                &#125;)</span><br><span class="line">                .catch(error &#x3D;&gt; &#123;</span><br><span class="line">                    console.log(&#39;Error: &#39; + error);</span><br><span class="line">                    alert(&#39;Error: &#39; + error);</span><br><span class="line">                    return;</span><br><span class="line">                &#125;);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        function readModelNumber() &#123;</span><br><span class="line">            console.log(&quot;readModelNumber&quot;);</span><br><span class="line">            &#x2F;&#x2F; state validation</span><br><span class="line">            if (!connected) &#123;</span><br><span class="line">                alert(&quot;Error: Discover and connect to a device before using this function&quot;);</span><br><span class="line">                return;</span><br><span class="line">            &#125;</span><br><span class="line">            if (!services_discovered) &#123;</span><br><span class="line">                alert(&quot;Error: Service discovery has not yet completed&quot;);</span><br><span class="line">                return;</span><br><span class="line">            &#125;</span><br><span class="line">            if (!has_device_information_service) &#123;</span><br><span class="line">                alert(&quot;Error: The connected device does not contain the device information service &quot;);</span><br><span class="line">                return;</span><br><span class="line">            &#125;</span><br><span class="line">            if (!has_model_number_string) &#123;</span><br><span class="line">                alert(&quot;Error: The connected device does not contain the model name string  characteristic &quot;);</span><br><span class="line">                return;</span><br><span class="line">            &#125;</span><br><span class="line">            model_number_string.readValue()</span><br><span class="line">                .then(value &#x3D;&gt; &#123;</span><br><span class="line">                    data &#x3D; new Uint8Array(value.buffer);</span><br><span class="line">                    model_number_string &#x3D; new TextDecoder(&quot;utf-8&quot;).decode(data);</span><br><span class="line">                    console.log(model_number_string);</span><br><span class="line">                    document.getElementById(&quot;model_number&quot;).innerHTML &#x3D;</span><br><span class="line">                        model_number_string;</span><br><span class="line">                &#125;)</span><br><span class="line">                .catch(error &#x3D;&gt; &#123;</span><br><span class="line">                    console.log(&#39;Error: &#39; + error);</span><br><span class="line">                    alert(&#39;Error: &#39; + error);</span><br><span class="line">                    return;</span><br><span class="line">                &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;h1&gt;Web Bluetooth&lt;&#x2F;h1&gt;</span><br><span class="line">    &lt;h2&gt;</span><br><span class="line">        Status</span><br><span class="line">        &lt;!-- 显示蓝牙状态--&gt;</span><br><span class="line">    &lt;&#x2F;h2&gt;</span><br><span class="line">    &lt;table border&#x3D;&quot;1&quot;&gt;</span><br><span class="line">        &lt;tr&gt;</span><br><span class="line">            &lt;td&gt; &lt;b&gt;Connected&lt;&#x2F;b&gt; &lt;&#x2F;td&gt;</span><br><span class="line">            &lt;td&gt; &lt;b&gt;Service Discovery Completed&lt;&#x2F;b&gt; &lt;&#x2F;td&gt;</span><br><span class="line">        &lt;&#x2F;tr&gt;</span><br><span class="line">        &lt;tr&gt;</span><br><span class="line">            &lt;td id&#x3D;&quot;status_connected&quot;&gt;False&lt;&#x2F;td&gt;</span><br><span class="line">            &lt;td id&#x3D;&quot;status_discovered&quot;&gt;False&lt;&#x2F;td&gt;</span><br><span class="line">        &lt;&#x2F;tr&gt;</span><br><span class="line">    &lt;&#x2F;table&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    &lt;h2&gt;Device Discovery Or Disconnect&lt;&#x2F;h2&gt; &lt;!-- 扫描&#x2F;发现蓝牙设备 --&gt;</span><br><span class="line">    &lt;button id&#x3D;&quot;btn_scan&quot; onclick&#x3D;&quot;discoverDevicesOrDisconnect()&quot;&gt;</span><br><span class="line">        Discover Devices</span><br><span class="line">    &lt;&#x2F;button&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    &lt;h2&gt;Reading and Writing&lt;&#x2F;h2&gt;</span><br><span class="line">    &lt;h3&gt;Read Characteristic - Model Number&lt;&#x2F;h3&gt;</span><br><span class="line">    &lt;button id&#x3D;&quot;btn_read&quot; onclick&#x3D;&quot;readModelNumber()&quot;&gt;Read Model</span><br><span class="line">        Number&lt;&#x2F;button&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;model_number&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;h3&gt;Write Characteristic - Randomise Lights&lt;&#x2F;h3&gt;</span><br><span class="line">    &lt;button id&#x3D;&quot;btn_write&quot; onclick&#x3D;&quot;randomLEDs()&quot;&gt;Randomise LEDs&lt;&#x2F;button&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<p>首先添加一个读写按钮，接着添加读取型号函数，再添加改变LED的写函数 当点Read MOdel Number执行读取型号函数在下方显示型号，点击Randomise LED 板子上面LED发生改变</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/22/%E7%BD%91%E9%A1%B5%E8%93%9D%E7%89%99%E8%AE%BE%E5%A4%87%E8%BF%9E%E6%8E%A5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="陈龙">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="陈龙 の 博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/06/22/%E7%BD%91%E9%A1%B5%E8%93%9D%E7%89%99%E8%AE%BE%E5%A4%87%E8%BF%9E%E6%8E%A5/" class="post-title-link" itemprop="url">网页蓝牙设备连接</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-06-22 21:02:26 / 修改时间：21:03:04" itemprop="dateCreated datePublished" datetime="2020-06-22T21:02:26+08:00">2020-06-22</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="知识储备"><a href="#知识储备" class="headerlink" title="知识储备"></a>知识储备</h2><p>Micro:bit是由英国BBC公司(对，你没有看错，就是那个被拍纪录片耽误的科技公司BBC)推出的面向青少年编程教育的微型计算机，别看它身材不大，但麻雀虽小五脏俱全，一块小板子上集成了加速度传感器，磁力传感器，两个可编程按钮，25个单色led，蓝牙等常用传感器设备，而尺寸只有信用卡的一半大小，采用micro usb口供电，可外接电池盒，在底部还有多个环孔连接器，可用于控制外接设备。</p>
<hr>
<h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><h3 id="一、micro-bit在电脑上的连接"><a href="#一、micro-bit在电脑上的连接" class="headerlink" title="一、micro:bit在电脑上的连接"></a><strong>一、micro:bit在电脑上的连接</strong></h3><ol>
<li><p>先将板子通过usb口连接到电脑<img src="http://5wuybiubiubiu.icu/images/a.jpg" alt="img"></p>
</li>
<li><p>在<a href="https://makecode.microbit.org/v0/89975-20684-84568-20127" target="_blank" rel="noopener">官网</a>上下载测试程序</p>
<p>下载程序完成后，将程序拖入测试板所在的盘内，此时会发现板子上出现” Hi ! “的标识，则表示成功<img src="http://5wuybiubiubiu.icu/images/b.png" alt="img"></p>
</li>
</ol>
<p><strong>二、蓝牙的连接</strong></p>
<ol>
<li><p>使用Visual Studio Code软件创建新的html文件，在文件中输入以下代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;script&gt;</span><br><span class="line">            var selected_device;           &#x2F;&#x2F; 保存用户选择的蓝牙设备</span><br><span class="line">            var connected_server;           &#x2F;&#x2F;在第二课基础上添加的变量，保存用户连接的蓝牙设备</span><br><span class="line">            var connected&#x3D;false;            &#x2F;&#x2F;在第三课基础上添加的变量，保存电脑蓝牙的当前连接设备</span><br><span class="line">            function discoverDevices()</span><br><span class="line">            &#123;</span><br><span class="line">                console.log(&quot;discoverDevices&quot;);     &#x2F;&#x2F;consol.log 控制台打印输出</span><br><span class="line">                var options &#x3D; &#123;acceptAllDevices:true&#125;        &#x2F;&#x2F;发现所有周边蓝牙设备</span><br><span class="line">                navigator.bluetooth.requestDevice(options)     &#x2F;&#x2F;Navigator对象，包含有关游览器的信息</span><br><span class="line">                .then(device &#x3D;&gt; &#123;</span><br><span class="line">                    console.log(&#39;&gt; Name:        &#39; + device.name);</span><br><span class="line">                    console.log(&#39;&gt; Id:          &#39; + device.id);</span><br><span class="line">                    console.log(&#39;&gt; Connected:   &#39; + device.gatt.connected);</span><br><span class="line">                    selected_device &#x3D; device;</span><br><span class="line">                    console.log(selected_device);</span><br><span class="line">                    connect();  </span><br><span class="line">                &#125;)</span><br><span class="line">                .catch(error &#x3D;&gt;&#123;</span><br><span class="line">                    alert(&#39;ERROR:&#39; +error);</span><br><span class="line">                    console.log(&#39;ERROR:&#39; +error);</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            function connect()</span><br><span class="line">            &#123;</span><br><span class="line">                console.log(&quot;connecting&quot;);</span><br><span class="line">                selected_device.gatt.connect()</span><br><span class="line">                .then(</span><br><span class="line">                    function(server)                            &#x2F;&#x2F;表示连接成功</span><br><span class="line">                    &#123;</span><br><span class="line">                        console.log(&quot;Connected to&quot; + server.device.id);</span><br><span class="line">                        console.log(&quot;Connected&#x3D;&quot; + server.connected);</span><br><span class="line">                        connected_server &#x3D; server;</span><br><span class="line">                        setConnectedStatus(true);</span><br><span class="line"></span><br><span class="line">                    &#125;,</span><br><span class="line">                    function(error)                              &#x2F;&#x2F;表示连接失败</span><br><span class="line">                    &#123;</span><br><span class="line">                        console.log(&quot;ERROR:could not connct-&quot; + error);</span><br><span class="line">                        alert(&quot;ERROR:could not connct-&quot; + error);</span><br><span class="line">                        setConnectedStatus(false);</span><br><span class="line"></span><br><span class="line">                    &#125;</span><br><span class="line">                );</span><br><span class="line">            &#125;</span><br><span class="line">            function setConnectedStatus(status)</span><br><span class="line">            &#123;</span><br><span class="line">                connected&#x3D;status;</span><br><span class="line">                document.getElementById(&#39;status_connected&#39;).innerHTML&#x3D;status;</span><br><span class="line">                if(status&#x3D;&#x3D;true)</span><br><span class="line">                &#123;</span><br><span class="line">                    document.getElementById(&#39;btn_scan&#39;).innerHTML&#x3D;&quot;Disconnect&quot;;</span><br><span class="line">                &#125;</span><br><span class="line">                else</span><br><span class="line">                &#123;</span><br><span class="line">                    document.getElementById(&#39;btn_scan&#39;).innerHTML&#x3D;&quot;Discover Devices&quot;;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &lt;&#x2F;script&gt;</span><br><span class="line">    &lt;&#x2F;head&gt;</span><br><span class="line">    &lt;body&gt;       </span><br><span class="line">        &lt;h2&gt;</span><br><span class="line">            Status  &lt;!-- 显示蓝牙状态--&gt;</span><br><span class="line">        &lt;&#x2F;h2&gt;</span><br><span class="line">        &lt;table border&#x3D;&quot;1&quot;&gt;</span><br><span class="line">            &lt;tr&gt;</span><br><span class="line">                &lt;td&gt;    &lt;b&gt;Connected&lt;&#x2F;b&gt;    &lt;&#x2F;td&gt;</span><br><span class="line">            &lt;&#x2F;tr&gt;</span><br><span class="line">            &lt;tr&gt;</span><br><span class="line">                &lt;td id&#x3D;&quot;status_connected&quot;&gt;False&lt;&#x2F;td&gt;</span><br><span class="line">            &lt;&#x2F;tr&gt;</span><br><span class="line">        &lt;&#x2F;table&gt; </span><br><span class="line">        &lt;h2&gt;Device Discovery &lt;&#x2F;h2&gt;     &lt;!-- 扫描&#x2F;发现蓝牙设备 --&gt;</span><br><span class="line">        &lt;button id&#x3D;&quot;btn_scan&quot; onclick&#x3D;&quot;discoverDevices()&quot;&gt;</span><br><span class="line">            Start scan</span><br><span class="line">        &lt;&#x2F;button&gt;</span><br><span class="line">    &lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>保存成功之后，使用Google Chrome打开文件，出现以下界面<img src="http://5wuybiubiubiu.icu/images/c.png" alt="img"></p>
</li>
<li><p>点击Start scan按钮，找到自己的设备点击连接配对<img src="http://5wuybiubiubiu.icu/images/d.png" alt="img"></p>
</li>
<li><p>配对成功，连接成功后，Connected为true，板子显示从D变为C。<img src="http://5wuybiubiubiu.icu/images/e.jpg" alt="img"></p>
</li>
</ol>
<p>到此就结束了项目二的第一项功能。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/05/26/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BAHexo/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="陈龙">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="陈龙 の 博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/05/26/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BAHexo/" class="post-title-link" itemprop="url">从零开始搭建Hexo</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-05-26 16:10:51" itemprop="dateCreated datePublished" datetime="2020-05-26T16:10:51+08:00">2020-05-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-05-30 21:59:27" itemprop="dateModified" datetime="2020-05-30T21:59:27+08:00">2020-05-30</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>虽说是网站，对于个人来说，或许一般叫作博客。<br>但我不希望它仅仅是一个博客，而是能够成为一个处于自己现实生活之外、自由、实验、不用畏惧他人眼光甚至可以独断专行的地方。我会从整体上对搭建网站的流程和使用到的技术及步骤进行介绍我希望看完此篇文章后，此前对此方面知识一无所知的小白，到最后也能搭建出一个属于自己的站点。（前提是认识基础的英语单词和善用搜索引擎）</p>
<p>接下来就是我安装hexo博客的过程</p>
<p>一. 下载和安装Node.js和Git</p>
<p>二. 安装 Hexo</p>
<p>三. 创建 Hexo</p>
<h1 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h1><h2 id="1-安装Node-js"><a href="#1-安装Node-js" class="headerlink" title="1.安装Node.js"></a>1.安装Node.js</h2><blockquote>
<p><strong>什么是 Node.js ？</strong></p>
<p>这得从什么是 JS 说起，JS 也就是 JavaScript。（为什么有种从盘古开天辟地开始的感觉）没错，JavaScript 就是网页的盘古。JavaScript 是一种编程语言，我们所见到的网页中的交互和逻辑处理几乎都是由 JavaScript 完成。<br>JavaScript 语法简单，易学易用。（当然也请不要小瞧它，虽然它入门门槛低，但上限同样也很高。包括但不限于实现网站前后端，手机桌面应用程序，机器学习，计算机图形学等。）<br>在 Node.js 诞生前，JavaScript 都运行于浏览器端。也就是说，它是鱼，浏览器是装满了水的水缸。<br>2008 年，Chrome V8 诞生。2009 年，Node.js 诞生。并成为 GitHub 早期最著名的开源项目。GitHub 可能大家已有所了解，后续再说。<br>Node.js 便是一个基于 Chrome V8 引擎的 JavaScript 运行环境。（当年第一次看到这句话时，我也一脸懵逼。）按照我的理解，JavaScript 是鱼，Chrome V8 就是抽水机，Node.js 则把这台抽水机也装在你电脑上。于是你的电脑也有了 Node.js 这个和浏览器相似的水缸，也可以在里面运行 JavaScript 了！<br>当然 Node.js 和浏览器端还是因为自身定位和一些历史原因而有些许区别的，不再展开。</p>
<p><a href="https://baike.baidu.com/item/node.js/7567977" target="_blank" rel="noopener">Node.js | 百度百科</a></p>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript" target="_blank" rel="noopener">JavaScript | MDN</a></p>
</blockquote>
<p><a href="https://nodejs.org/zh-cn/" target="_blank" rel="noopener">下载｜ Node.js</a></p>
<p>建议下载<strong>长期支持版</strong>而非<strong>当前发布版</strong>（因为如果是最新版，容易出现一些奇妙的 bug）。</p>
<p>全部默认下一步进行安装。</p>
<p>Windows 打开命令提示符，后续如提到输入命令，均默认指打开终端进行输入。</p>
<p>输入 <code>node --version</code>，如果得到的版本号与你方才安装的一致，那么 Node.js 就已经成功安装。</p>
<h2 id="2-安装Git"><a href="#2-安装Git" class="headerlink" title="2.安装Git"></a>2.安装Git</h2><blockquote>
<p>Git 是一个开源的分布式版本控制系统，由 Linus Torvalds（同时也是 Linux 的作者）为了管理 Linux 开发而开发。<br>简而言之，是一个版本管理工具。譬如设计师设计好了第三版的海报，客户却说还是要第一版吧，这时便可以通过 Git 快速回退到最初的版本。<br>你只需要把每次更改的状态（Git 会自动进行检测，你只要掌握基础的几条命令就可以了）告诉 Git，而不需要每个版本都保存一份压缩包，既方便也能大大节约空间。<br>（当然这主要只对代码文本起作用，因为 Git 的本质是记录各行代码的增减，倘若是像视频、海报这类二进制文件来说便体现不出丝毫优势了。当然想要应对这种场景还有 <a href="https://git-lfs.github.com/" target="_blank" rel="noopener">Git LFS</a>。）</p>
</blockquote>
<p>下载 <a href="https://git-scm.com/" target="_blank" rel="noopener">Git</a> 并安装（如果国内速度太慢，可以试试<a href="https://pc.qq.com/detail/13/detail_22693.html" target="_blank" rel="noopener">这里</a>）</p>
<blockquote>
<p>类似的工具还有：SVN。但始终更推荐 Git，因为它功能更为强大且它的背后还有更强大的生态：GitHub。</p>
</blockquote>
<p>Git也是全部默认下一步进行安装。</p>
<p>在cmd窗口输入git 若若结果列出Git的各种用法，则表示Git安装成功。</p>
<h2 id="三-安装hexo"><a href="#三-安装hexo" class="headerlink" title="三.安装hexo"></a>三.安装hexo</h2><p><a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a></p>
<ul>
<li>GitHub: <a href="http://github.com/hexojs/hexo" target="_blank" rel="noopener">http://github.com/hexojs/hexo</a></li>
<li><a href="https://hexo.io/zh-cn/docs/index.html" target="_blank" rel="noopener">官方文档</a>（直接参考文档也是一个不错的选择）</li>
</ul>
<p>所有必备的应用程序安装完成后，即可使用 npm 或者git来安装 Hexo。(建议使用git来安装,这样会比较方便。)</p>
<p>在安装之前我建议你先创个blog文件，就是存放的你的hexo，然后在在文件夹中空白处鼠标右键打开git bash here。</p>
<p><img src="https://yjxsbiubiu.top/CDN/git.png" alt="img"></p>
<p>在终端中输入以下命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-cli -g</span><br><span class="line"># 如果安装失败，可能是没有权限，可以尝试头部加上 sudo 重新执行</span><br><span class="line"># sudo npm install hexo-cli -g</span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>npm</code> 是随 Node.js 一起被安装的包管理工具，你可以理解成 Node.js 自带的应用商店。<br><code>install</code> 自然是安装。<br><code>hexo-cli</code> 则是 <code>hexo</code> 的终端工具，可以帮助你生成一些模版文件，之后再用到。<br><code>-g</code> 代表的是全局安装。也就是在任何地方都可以使用，否则会只能在安装的目录下使用。</p>
</blockquote>
<p>输入hexo -v，检查hexo是否安装成功 ，如下</p>
<p><img src="https://yjxsbiubiu.top/CDN/45738.png" alt="img"></p>
<p>这样hexo就已经安装成功了。不过还要创建hexo。</p>
<h2 id="四-创建hexo"><a href="#四-创建hexo" class="headerlink" title="四.创建hexo"></a>四.创建hexo</h2><p>这样准备工作就完成了，接下来就开始正式创建hexo。</p>
<p>在你刚才创建的文件夹还是在文件夹空白处点击Git，然后输入hexo init，初始化你的文件夹。</p>
<p><img src="https://yjxsbiubiu.top/CDN/50853.png" alt="img"></p>
<p><img src="https://yjxsbiubiu.top/CDN/2644.png" alt="img"></p>
<p>如果你看到后面的“Start blogging with Hexo！”，就说明文件夹初始化完成。</p>
<p>最后第二步就是输入npm install，安装所需要的组件。</p>
<p><img src="https://yjxsbiubiu.top/CDN/152806.png" alt="img"></p>
<h2 id="四-设置SSH-keys"><a href="#四-设置SSH-keys" class="headerlink" title="四.设置SSH keys"></a>四.<strong>设置SSH keys</strong></h2><p>1、在Git Bash输入以下指令（任意位置点击鼠标右键），检查是否已经存在了SSH keys。<br>ls -al ~/.ssh</p>
<p>2、如果不存在就没有关系，如果存在的话，直接删除.ssh文件夹里面所有文件：<br><img src="http://img.blog.csdn.net/20161026183423330" alt="这里写图片描述"></p>
<p>3、生成密钥：(与接下来的3二选一即可)</p>
<blockquote>
<p>git config –global user.email “<a href="mailto:1914324673@qq.com">1914324673@qq.com</a>” # 填写你github注册并且验证的邮箱</p>
<p>git config –global user.name “jasmine-na” # github 用户名</p>
<p>ssh-keygen # 会出现下面的内容，一直按Enter键就行</p>
<p>Generating public/private rsa key pair.<br>Enter file in which to save the key (/home/logan/.ssh/id_rsa):<br>/home/logan/.ssh/id_rsa already exists.<br>Overwrite (y/n)? #因为我已经生成过了所以提示我，你就一直按就行</p>
<p>最后在你的.ssh 目录下面生成 id_rsa(私钥) id_rsa.pub(公钥)俩个文件</p>
<p>第二行会提示你在哪个目录下面生成文件。</p>
</blockquote>
<p>3、生成密钥另外一种方法：<br>输入以下指令（邮箱就是你注册Github时候的邮箱）后，回车：</p>
<blockquote>
<p>ssh-keygen -t rsa -C “<a href="mailto:1914324673@qq.com">1914324673@qq.com</a>”</p>
</blockquote>
<p><img src="http://img.blog.csdn.net/20161026183438862" alt="这里写图片描述"></p>
<p>然后它会提示要你输入passphrase，直接回车：</p>
<p><img src="http://img.blog.csdn.net/20161026183459454" alt="这里写图片描述"></p>
<p>然后键入以下指令：</p>
<blockquote>
<p>ssh-agent -s</p>
</blockquote>
<p><img src="http://img.blog.csdn.net/20161026183549938" alt="这里写图片描述"></p>
<p>继续输入指令：</p>
<blockquote>
<p>ssh-add ~/.ssh/id_rsa</p>
</blockquote>
<p>输入之后，出错：<br><img src="http://img.blog.csdn.net/20161026183614204" alt="这里写图片描述"></p>
<p>出错，则输入：</p>
<blockquote>
<p>eval <code>ssh-agent -s</code><br>ssh-add</p>
</blockquote>
<p><img src="http://img.blog.csdn.net/20161026183638360" alt="这里写图片描述"></p>
<p>4、打开.ssh/id_rsa.pub，全选复制Key<br><img src="http://img.blog.csdn.net/20161026183841596" alt="这里写图片描述"></p>
<p>5、到Github<br><img src="http://img.blog.csdn.net/20161027110146361" alt="这里写图片描述"></p>
<p><img src="http://img.blog.csdn.net/20161027110158205" alt="这里写图片描述"></p>
<p><img src="http://img.blog.csdn.net/20161027110206799" alt="这里写图片描述"></p>
<p>6、测试：</p>
<blockquote>
<p>ssh -T <a href="mailto:git@github.com">git@github.com</a></p>
</blockquote>
<p><img src="http://img.blog.csdn.net/20161026183947385" alt="这里写图片描述"></p>
<p>遇到警告输入“yes”，<br>最后输出 You’ve successfully authenticated 表示添加key 成功。</p>
<p><strong>编辑_config.yml文件</strong></p>
<p>修改文件里面的deploy，</p>
<p>修改后</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo: git@gitee.com:chengfu9408&#x2F;myblog.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure>

<p><strong>完成部署</strong><br>1、 依次键入指令：</p>
<blockquote>
<p>hexo clean</p>
<p>hexo generate</p>
<p>hexo deploy</p>
</blockquote>
<p>2、在浏览器输入：<a href="https://chengfu9408.gitee.io/myblog" target="_blank" rel="noopener">https://chengfu9408.gitee.io/myblog</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/05/26/Markdown-%E8%AF%AD%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="陈龙">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="陈龙 の 博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/05/26/Markdown-%E8%AF%AD%E6%B3%95/" class="post-title-link" itemprop="url">Markdown 语法</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-05-26 16:09:33 / 修改时间：16:10:07" itemprop="dateCreated datePublished" datetime="2020-05-26T16:09:33+08:00">2020-05-26</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="标题"><a href="#标题" class="headerlink" title="标题"></a>标题</h1><p>一个#是一级标题，二个#是二级标题，以此类推。支持六级标题。<br>注:标准语法一般在#后跟个空格再写文字，貌似简书不加空格也行。</p>
<p>示例:</p>
<h1 id="一级标题"><a href="#一级标题" class="headerlink" title="一级标题"></a>一级标题</h1><h2 id="二级标题"><a href="#二级标题" class="headerlink" title="二级标题"></a>二级标题</h2><h3 id="三级标题"><a href="#三级标题" class="headerlink" title="三级标题"></a>三级标题</h3><h5 id="四级标题"><a href="#四级标题" class="headerlink" title="四级标题"></a>四级标题</h5><h6 id="五级标题"><a href="#五级标题" class="headerlink" title="五级标题"></a>五级标题</h6><h6 id="六级标题"><a href="#六级标题" class="headerlink" title="六级标题"></a>六级标题</h6><h1 id="斜体"><a href="#斜体" class="headerlink" title="斜体"></a>斜体</h1><p>斜体<br>要倾斜的文字左右分别用一个*号包起来</p>
<p>斜体加粗<br>要倾斜和加粗的文字左右分别用三个*号包起来</p>
<p>删除线<br>要加删除线的文字左右分别用两个~~号包起来</p>
<p>示例:</p>
<p><strong>这是加粗的文字</strong> <em>这是倾斜的文字</em>` <strong><em>这是斜体加粗的文字\</em></strong> <del>这是加删除线的文字</del></p>
<h1 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h1><p>无序列表使用-、+和*作为列表标记：</p>
<ul>
<li><p>Red</p>
</li>
<li><p>Green</p>
</li>
<li><p>Blue</p>
</li>
<li><p>Red</p>
</li>
<li><p>Green</p>
</li>
<li><p>Blue</p>
</li>
<li><p>Red</p>
</li>
<li><p>Green</p>
</li>
<li><p>Blue<br>有序列表则使用数字加英文句点.来表示：</p>
</li>
</ul>
<ol>
<li>Red</li>
<li>Green</li>
<li>Blue</li>
</ol>
<h1 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h1><p>引用以&gt;来表示，引用中支持多级引用、标题、列表、代码块、分割线等常规语法。</p>
<blockquote>
<p>这是一段引用 //在<code>&gt;</code>后面有 1 个空格</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">这是引用的代码块形式    &#x2F;&#x2F;在&#96;&gt;&#96;后面有 5 个空格</span><br></pre></td></tr></table></figure>

<p>代码例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">protected void onCreate(Bundle savedInstanceState) &#123;</span><br><span class="line">    super.onCreate(savedInstanceState);</span><br><span class="line">    setContentView(R.layout.activity_main);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>一级引用</p>
<blockquote>
<p>二级引用</p>
<blockquote>
<p>三级引用</p>
</blockquote>
</blockquote>
</blockquote>
<blockquote>
<h4 id="这是一个四级标题"><a href="#这是一个四级标题" class="headerlink" title="这是一个四级标题"></a>这是一个四级标题</h4><ol>
<li>这是第一行列表项</li>
<li>这是第二行列表项</li>
</ol>
</blockquote>
<h1 id="强调"><a href="#强调" class="headerlink" title="强调"></a>强调</h1><p>两个<em>或-代表加粗，一个</em>或-代表斜体，~~代表删除。<br><strong>加粗文本</strong> 或者 <strong>加粗文本</strong></p>
<p><em>斜体文本</em> 或者<em>斜体文本</em></p>
<p><del>删除文本</del></p>
<h1 id="图片与链接"><a href="#图片与链接" class="headerlink" title="图片与链接"></a>图片与链接</h1><p>图片与链接的语法很像，区别在一个 ! 号。二者格式：<br>图片：<img src="https://yjxsbiubiu.top/2020/03/02/title/" alt="img">)<img src="https://yjxsbiubiu.top/2020/03/02/title/%E5%9B%BE%E7%89%87%E5%9C%B0%E5%9D%80" alt="图片文本(可忽略)"></p>
<p>链接： <a href="https://yjxsbiubiu.top/2020/03/02/title/链接地址" target="_blank" rel="noopener">链接文本</a><br>链接又分为行内式、参考式和 自动链接：<br>这是行内式链接：<a href="http://connorlin.github.io/" target="_blank" rel="noopener">ConnorLin’s Blog</a>。</p>
<p>这是参考式链接：<a href="http://connorlin.github.io/" target="_blank" rel="noopener">ConnorLin’s Blog</a>，其中url为链接标记，可置于文中任意位置。</p>
<p>链接标记格式为：[链接标记文本]: 链接地址 链接title(可忽略)</p>
<p>这是自动链接：直接使用<code>&lt;&gt;</code>括起来<a href="http://connorlin.github.io/" target="_blank" rel="noopener">http://connorlin.github.io</a></p>
<p>这是图片：<img src="https://connorlin.github.io/images/avatar.jpg" alt="img"></p>
<h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><p>代码分为行内代码和代码块。</p>
<p>行内代码使用 <code>代码</code> 标识，可嵌入文字中</p>
<p>代码块使用4个空格或```标识</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">这里是代码</span><br></pre></td></tr></table></figure>

<p>代码语法高亮在 ```后面加上空格和语言名称即可</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;注意语言前面有空格</span><br><span class="line">这里是代码</span><br></pre></td></tr></table></figure>

<p>例如：这是行内代码<code>onCreate(Bundle savedInstanceState)</code>的例子。</p>
<p>这是代码块和语法高亮：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 注意java前面有空格</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">    setContentView(R.layout.activity_main);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="表格"><a href="#表格" class="headerlink" title="表格"></a>表格</h1><p>表格对齐格式</p>
<p>居左：:—-<br>居中：:—-:或—–<br>居右：—-:<br>|标题|标题|标题|<br>|:—|:—:|—:|<br>|居左测试文本|居中测试文本|居右测试文本|<br>|居左测试文本1|居中测试文本2|居右测试文本3|<br>|居左测试文本11|居中测试文本22|居右测试文本33|<br>|居左测试文本111|居中测试文本222|居右测试文本333|</p>
<p>#分隔线<br>在一行中用三个以上的*、-、_来建立一个分隔线，行内不能有其他东西。也可以在符号间插入空格。</p>
<hr>
<hr>
<hr>
<hr>
<h1 id="换行"><a href="#换行" class="headerlink" title="换行"></a>换行</h1><p>在行尾添加两个空格加回车表示换行：<br>这是一行后面加两个空格 换行</p>
<h1 id="注解"><a href="#注解" class="headerlink" title="注解"></a>注解</h1><p>使用[^]来定义脚注：<br>这是一个脚注的例子<a href="https://yjxsbiubiu.top/2020/03/02/title/这里是脚注" target="_blank" rel="noopener">^1</a></p>
<h1 id="下划线"><a href="#下划线" class="headerlink" title="下划线"></a>下划线</h1>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">陈龙</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">9</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">陈龙</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  


</body>
</html>
